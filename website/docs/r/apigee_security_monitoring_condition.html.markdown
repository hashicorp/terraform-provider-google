---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/apigee/SecurityMonitoringCondition.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Apigee"
description: |-
  Security monitoring condition for risk assessment version 2 in Apigee.
---

# google_apigee_security_monitoring_condition

Security monitoring condition for risk assessment version 2 in Apigee.


To get more information about SecurityMonitoringCondition, see:

* [API documentation](https://cloud.google.com/apigee/docs/reference/apis/apigee/rest/v1/organizations.securityMonitoringConditions/create)
* How-to Guides
    * [Creating a security monitoring condition](https://cloud.google.com/apigee/docs/api-security/security-scores#monitoring-conditions)

## Example Usage - Apigee Security Monitoring Condition Basic


```hcl
data "google_client_config" "current" {}

resource "google_compute_network" "apigee_network" {
  name = "apigee-network"
}

resource "google_compute_global_address" "apigee_range" {
  name          = "apigee-range"
  purpose       = "VPC_PEERING"
  address_type  = "INTERNAL"
  prefix_length = 16
  network       = google_compute_network.apigee_network.id
}

resource "google_service_networking_connection" "apigee_vpc_connection" {
  network                 = google_compute_network.apigee_network.id
  service                 = "servicenetworking.googleapis.com"
  reserved_peering_ranges = [google_compute_global_address.apigee_range.name]
}

resource "google_apigee_organization" "apigee_org" {
  analytics_region   = "us-central1"
  project_id         = data.google_client_config.current.project
  authorized_network = google_compute_network.apigee_network.id
  depends_on         = [google_service_networking_connection.apigee_vpc_connection]
}

resource "google_apigee_environment" "env" {
  name         = "my-environment"
  description  = "Apigee Environment"
  display_name = "environment-1"
  org_id       = google_apigee_organization.apigee_org.id
}

resource "google_apigee_addons_config" "apigee_org_security_addons_config" {
  org = google_apigee_organization.apigee_org.name
  addons_config {
    api_security_config {
      enabled = true
    }
  }
}

resource "google_apigee_security_monitoring_condition" "security_monitoring_condition" {
  condition_id = "my-condition"
  org_id       = google_apigee_organization.apigee_org.id
  profile      = "google-default"
  scope        = "my-environment"
  include_all_resources {}
  depends_on = [
    google_apigee_addons_config.apigee_org_security_addons_config
  ]
}
```

## Argument Reference

The following arguments are supported:


* `profile` -
  (Required)
  ID of security profile of the security monitoring condition.

* `scope` -
  (Required)
  ID of security profile of the security monitoring condition.

* `org_id` -
  (Required)
  The Apigee Organization associated with the Apigee Security Monitoring Condition,
  in the format `organizations/{{org_name}}`.

* `condition_id` -
  (Required)
  Resource ID of the security monitoring condition.


* `include_all_resources` -
  (Optional)
  A nested object resource.

* `deletion_policy` - (Optional) Whether Terraform will be prevented from destroying the resource. Defaults to DELETE.
	When a 'terraform destroy' or 'terraform apply' would delete the resource,
	the command will fail if this field is set to "PREVENT" in Terraform state.
	When set to "ABANDON", the command will remove the resource from Terraform
	management without updating or deleting the resource in the API.
	When set to "DELETE", deleting the resource is allowed.


## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `{{org_id}}/securityMonitoringConditions/{{condition_id}}`

* `name` -
  Name of the security monitoring condition resource,
  in the format `organizations/{{org_name}}/securityMonitoringConditions/{{condition_id}}`.

* `create_time` -
  The timestamp at which this profile was created.

* `update_time` -
  The timestamp at which this profile was most recently updated.

* `total_monitored_resources` -
  Total number of monitored resources within this condition.

* `total_deployed_resources` -
  Total number of deployed resources within scope.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


SecurityMonitoringCondition can be imported using any of these accepted formats:

* `{{org_id}}/securityMonitoringConditions/{{condition_id}}`
* `{{org_id}}/{{condition_id}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import SecurityMonitoringCondition using one of the formats above. For example:

```tf
import {
  id = "{{org_id}}/securityMonitoringConditions/{{condition_id}}"
  to = google_apigee_security_monitoring_condition.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), SecurityMonitoringCondition can be imported using one of the formats above. For example:

```
$ terraform import google_apigee_security_monitoring_condition.default {{org_id}}/securityMonitoringConditions/{{condition_id}}
$ terraform import google_apigee_security_monitoring_condition.default {{org_id}}/{{condition_id}}
```
