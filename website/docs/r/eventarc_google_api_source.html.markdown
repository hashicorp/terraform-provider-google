---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/eventarc/GoogleApiSource.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Eventarc"
description: |-
  The Eventarc GoogleApiSource resource
---

# google_eventarc_google_api_source

The Eventarc GoogleApiSource resource


To get more information about GoogleApiSource, see:

* [API documentation](https://cloud.google.com/eventarc/docs/reference/rest/v1/projects.locations.googleApiSources)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/eventarc/advanced/docs/publish-events/publish-events-google-sources)

## Example Usage - Eventarc Google Api Source With Cmek


```hcl
data "google_project" "test_project" {
	project_id = "my-project-name"
}

data "google_kms_key_ring" "test_key_ring" {
	name     = "keyring"
	location = "us-central1"
}

data "google_kms_crypto_key" "key" {
	name     = "key"
	key_ring = data.google_kms_key_ring.test_key_ring.id
}

resource "google_kms_crypto_key_iam_member" "key_member" {
  crypto_key_id = data.google_kms_crypto_key.key.id
  role          = "roles/cloudkms.cryptoKeyEncrypterDecrypter"
  member        = "serviceAccount:service-${data.google_project.test_project.number}@gcp-sa-eventarc.iam.gserviceaccount.com"
}

resource "google_eventarc_message_bus" "message_bus" {
  location        = "us-central1"
  message_bus_id  = "some-message-bus"
}

resource "google_eventarc_google_api_source" "primary" {
  location              = "us-central1"
  google_api_source_id  = "some-google-api-source"
  destination           = google_eventarc_message_bus.message_bus.id
  crypto_key_name       = data.google_kms_crypto_key.key.id
  depends_on            = [google_kms_crypto_key_iam_member.key_member]
}
```

## Argument Reference

The following arguments are supported:


* `destination` -
  (Required)
  Destination is the message bus that the GoogleApiSource is delivering to.
  It must be point to the full resource name of a MessageBus. Format:
  "projects/{PROJECT_ID}/locations/{region}/messagesBuses/{MESSAGE_BUS_ID)

* `location` -
  (Required)
  Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.

* `google_api_source_id` -
  (Required)
  The user-provided ID to be assigned to the GoogleApiSource. It should match
  the format `^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$`.


* `labels` -
  (Optional)
  Resource labels.
  **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
  Please refer to the field `effective_labels` for all of the labels present on the resource.

* `crypto_key_name` -
  (Optional)
  Resource name of a KMS crypto key (managed by the user) used to
  encrypt/decrypt their event data.
  It must match the pattern
  `projects/*/locations/*/keyRings/*/cryptoKeys/*`.

* `annotations` -
  (Optional)
  Resource annotations.
  **Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
  Please refer to the field `effective_annotations` for all of the annotations present on the resource.

* `display_name` -
  (Optional)
  Resource display name.

* `logging_config` -
  (Optional)
  The configuration for Platform Telemetry logging for Eventarc Advanced
  resources.
  Structure is [documented below](#nested_logging_config).

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.



<a name="nested_logging_config"></a>The `logging_config` block supports:

* `log_severity` -
  (Optional)
  The minimum severity of logs that will be sent to Stackdriver/Platform
  Telemetry. Logs at severitiy â‰¥ this value will be sent, unless it is NONE.
  Possible values are: `NONE`, `DEBUG`, `INFO`, `NOTICE`, `WARNING`, `ERROR`, `CRITICAL`, `ALERT`, `EMERGENCY`.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/{{location}}/googleApiSources/{{google_api_source_id}}`

* `update_time` -
  The last-modified time.

* `etag` -
  This checksum is computed by the server based on the value of other
  fields, and might be sent only on update and delete requests to ensure that
  the client has an up-to-date value before proceeding.

* `name` -
  Resource name of the form
  projects/{project}/locations/{location}/googleApiSources/{google_api_source}

* `uid` -
  Server assigned unique identifier for the channel. The value is a UUID4
  string and guaranteed to remain unchanged until the resource is deleted.

* `create_time` -
  The creation time.

* `terraform_labels` -
  The combination of labels configured directly on the resource
   and default labels configured on the provider.

* `effective_labels` -
  All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.

* `effective_annotations` -
  All of annotations (key/value pairs) present on the resource in GCP, including the annotations configured through Terraform, other clients and services.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


GoogleApiSource can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/googleApiSources/{{google_api_source_id}}`
* `{{project}}/{{location}}/{{google_api_source_id}}`
* `{{location}}/{{google_api_source_id}}`

In Terraform v1.12.0 and later, use an [`identity` block](https://developer.hashicorp.com/terraform/language/resources/identities) to import GoogleApiSource using identity values. For example:

```tf
import {
  identity = {
    location = "<-required value->"
    googleApiSourceId = "<-required value->"
    project = "<-optional value->"
  }
  to = google_eventarc_google_api_source.default
}
```

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import GoogleApiSource using one of the formats above. For example:

```tf
import {
  id = "projects/{{project}}/locations/{{location}}/googleApiSources/{{google_api_source_id}}"
  to = google_eventarc_google_api_source.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), GoogleApiSource can be imported using one of the formats above. For example:

```
$ terraform import google_eventarc_google_api_source.default projects/{{project}}/locations/{{location}}/googleApiSources/{{google_api_source_id}}
$ terraform import google_eventarc_google_api_source.default {{project}}/{{location}}/{{google_api_source_id}}
$ terraform import google_eventarc_google_api_source.default {{location}}/{{google_api_source_id}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
