---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/dialogflowcx/GenerativeSettings.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Dialogflow CX"
description: |-
  Settings for Generative AI.
---

# google_dialogflow_cx_generative_settings

Settings for Generative AI.


To get more information about GenerativeSettings, see:

* [API documentation](https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/projects.locations.agents/getGenerativeSettings)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/dialogflow/cx/docs)

<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=dialogflowcx_generative_settings_full&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Dialogflowcx Generative Settings Full


```hcl
resource "google_dialogflow_cx_agent" "agent" {
  display_name               = "dialogflowcx-agent"
  location                   = "global"
  default_language_code      = "en"
  time_zone                  = "America/New_York"
  description                = "Example description."
}

resource "google_dialogflow_cx_generative_settings" "full_generative_settings" {
  parent       = google_dialogflow_cx_agent.agent.id

  fallback_settings {
    selected_prompt = "example prompt"
    prompt_templates {
      display_name = "example prompt"
      prompt_text = "example prompt text"
      frozen = false
    }
  }

  generative_safety_settings {
    default_banned_phrase_match_strategy = "PARTIAL_MATCH"
    banned_phrases {
      text = "example text"
      language_code = "en"
    }
  }

  knowledge_connector_settings {
    business = "example business"
    agent = "example agent"
    agent_identity = "virtual agent"
    business_description = "a family company selling freshly roasted coffee beans"
    agent_scope = "Example company website"
    disable_data_store_fallback = false
  }

  language_code = "en"

  llm_model_settings {
    model = "gemini-2.0-flash-001"
    prompt_text = "example prompt text"
  }
}
```

## Argument Reference

The following arguments are supported:


* `language_code` -
  (Required)
  Language for this settings.


* `fallback_settings` -
  (Optional)
  Settings for Generative Fallback.
  Structure is [documented below](#nested_fallback_settings).

* `generative_safety_settings` -
  (Optional)
  Settings for Generative Safety.
  w
  Structure is [documented below](#nested_generative_safety_settings).

* `knowledge_connector_settings` -
  (Optional)
  Settings for knowledge connector.
  Structure is [documented below](#nested_knowledge_connector_settings).

* `llm_model_settings` -
  (Optional)
  LLM model settings.
  Structure is [documented below](#nested_llm_model_settings).

* `parent` -
  (Optional)
  The agent to create a flow for.
  Format: projects/<Project ID>/locations/<Location ID>/agents/<Agent ID>.



<a name="nested_fallback_settings"></a>The `fallback_settings` block supports:

* `selected_prompt` -
  (Optional)
  Display name of the selected prompt.

* `prompt_templates` -
  (Optional)
  Stored prompts that can be selected, for example default templates like "conservative" or "chatty", or user defined ones.
  Structure is [documented below](#nested_fallback_settings_prompt_templates).


<a name="nested_fallback_settings_prompt_templates"></a>The `prompt_templates` block supports:

* `display_name` -
  (Optional)
  Prompt name.

* `prompt_text` -
  (Optional)
  Prompt text that is sent to a LLM on no-match default, placeholders are filled downstream. For example: "Here is a conversation $conversation, a response is: "

* `frozen` -
  (Optional)
  If the flag is true, the prompt is frozen and cannot be modified by users.

<a name="nested_generative_safety_settings"></a>The `generative_safety_settings` block supports:

* `default_banned_phrase_match_strategy` -
  (Optional)
  Optional. Default phrase match strategy for banned phrases.
  See [PhraseMatchStrategy](https://cloud.google.com/dialogflow/cx/docs/reference/rest/v3/GenerativeSettings#phrasematchstrategy) for valid values.

* `banned_phrases` -
  (Optional)
  Banned phrases for generated text.
  Structure is [documented below](#nested_generative_safety_settings_banned_phrases).


<a name="nested_generative_safety_settings_banned_phrases"></a>The `banned_phrases` block supports:

* `text` -
  (Required)
  Text input which can be used for prompt or banned phrases.

* `language_code` -
  (Required)
  Language code of the phrase.

<a name="nested_knowledge_connector_settings"></a>The `knowledge_connector_settings` block supports:

* `business` -
  (Optional)
  Name of the company, organization or other entity that the agent represents. Used for knowledge connector LLM prompt and for knowledge search.

* `agent` -
  (Optional)
  Name of the virtual agent. Used for LLM prompt. Can be left empty.

* `agent_identity` -
  (Optional)
  Identity of the agent, e.g. "virtual agent", "AI assistant".

* `business_description` -
  (Optional)
  Company description, used for LLM prompt, e.g. "a family company selling freshly roasted coffee beans".``

* `agent_scope` -
  (Optional)
  Agent scope, e.g. "Example company website", "internal Example company website for employees", "manual of car owner".

* `disable_data_store_fallback` -
  (Optional)
  Whether to disable fallback to Data Store search results (in case the LLM couldn't pick a proper answer). Per default the feature is enabled.

<a name="nested_llm_model_settings"></a>The `llm_model_settings` block supports:

* `model` -
  (Optional)
  The selected LLM model.

* `prompt_text` -
  (Optional)
  The custom prompt to use.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `{{parent}}/generativeSettings?languageCode={{language_code}}`

* `name` -
  The unique identifier of the generativeSettings.
  Format: projects/<ProjectID>/locations/<LocationID>/agents/<AgentID>/generativeSettings.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 40 minutes.
- `update` - Default is 40 minutes.
- `delete` - Default is 20 minutes.

## Import


GenerativeSettings can be imported using any of these accepted formats:

* `{{parent}}/generativeSettings`
* `{{parent}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import GenerativeSettings using one of the formats above. For example:

```tf
import {
  id = "{{parent}}/generativeSettings"
  to = google_dialogflow_cx_generative_settings.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), GenerativeSettings can be imported using one of the formats above. For example:

```
$ terraform import google_dialogflow_cx_generative_settings.default {{parent}}/generativeSettings
$ terraform import google_dialogflow_cx_generative_settings.default {{parent}}
```
