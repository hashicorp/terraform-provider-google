---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/apigee/EnvironmentApiRevisionDeployment.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Apigee"
description: |-
  Deploys a specific Apigee API Proxy revision to a given Apigee environment.
---

# google_apigee_environment_api_revision_deployment

Deploys a specific Apigee API Proxy revision to a given Apigee environment.


To get more information about EnvironmentApiRevisionDeployment, see:

* [API documentation](https://cloud.google.com/apigee/docs/reference/apis/apigee/rest/v1/organizations.environments.apis.revisions.deployments/deploy)
* How-to Guides
    * [Deploying an API proxy](https://cloud.google.com/apigee/docs/api-platform/deploy/ui-deploy-new#apigee-api)

## Example Usage - Apigee Environment Api Revision Deployment Basic


```hcl
resource "google_apigee_environment_api_revision_deployment" "proxy_deployment_basic" {
  org_id            = "my-org"
  environment       = "dev"
  api               = "hello-proxy"
  revision          = 1
  override          = true
  sequenced_rollout = true
}
```

## Argument Reference

The following arguments are supported:


* `org_id` -
  (Required)
  Apigee organization ID.

* `environment` -
  (Required)
  Apigee environment name.

* `api` -
  (Required)
  Apigee API proxy name.

* `revision` -
  (Required)
  API proxy revision number to deploy.


* `override` -
  (Optional)
  If true, replaces other deployed revisions of this proxy in the environment.

* `sequenced_rollout` -
  (Optional)
  If true, enables sequenced rollout for safe traffic switching.

* `service_account` -
  (Optional)
  Optional service account the deployed proxy runs as.



## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `organizations/{{org_id}}/environments/{{environment}}/apis/{{api}}/revisions/{{revision}}`

* `state` -
  Deployment state reported by Apigee.

* `basepaths` -
  Basepaths associated with the deployed proxy.

* `deploy_start_time` -
  RFC3339 timestamp when deployment started.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


EnvironmentApiRevisionDeployment can be imported using any of these accepted formats:

* `organizations/{{org_id}}/environments/{{environment}}/apis/{{api}}/revisions/{{revision}}`
* `{{org_id}}/{{environment}}/{{api}}/{{revision}}`
* `{{id}}`

In Terraform v1.12.0 and later, use an [`identity` block](https://developer.hashicorp.com/terraform/language/resources/identities) to import EnvironmentApiRevisionDeployment using identity values. For example:

```tf
import {
  identity = {
    org_id = "<-required value->"
    environment = "<-required value->"
    api = "<-required value->"
    revision = "<-required value->"
  }
  to = google_apigee_environment_api_revision_deployment.default
}
```

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import EnvironmentApiRevisionDeployment using one of the formats above. For example:

```tf
import {
  id = "organizations/{{org_id}}/environments/{{environment}}/apis/{{api}}/revisions/{{revision}}"
  to = google_apigee_environment_api_revision_deployment.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), EnvironmentApiRevisionDeployment can be imported using one of the formats above. For example:

```
$ terraform import google_apigee_environment_api_revision_deployment.default organizations/{{org_id}}/environments/{{environment}}/apis/{{api}}/revisions/{{revision}}
$ terraform import google_apigee_environment_api_revision_deployment.default {{org_id}}/{{environment}}/{{api}}/{{revision}}
$ terraform import google_apigee_environment_api_revision_deployment.default {{id}}
```
