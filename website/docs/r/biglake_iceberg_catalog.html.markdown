---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/biglakeiceberg/IcebergCatalog.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Biglake"
description: |-
  IcebergCatalogs are top-level containers for Apache Iceberg REST Catalog served Namespaces and Tables.
---

# google_biglake_iceberg_catalog

IcebergCatalogs are top-level containers for Apache Iceberg REST Catalog served Namespaces and Tables.


To get more information about IcebergCatalog, see:
* How-to Guides
    * [Use the BigLake metastore Iceberg REST catalog](https://docs.cloud.google.com/biglake/docs/blms-rest-catalog)

<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=biglake_iceberg_catalog&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Biglake Iceberg Catalog


```hcl
resource "google_storage_bucket" "bucket_for_my_iceberg_catalog" {
  name          = "my_iceberg_catalog"
  location      = "us-central1"
  force_destroy = true
  uniform_bucket_level_access = true
}

resource "google_biglake_iceberg_catalog" "my_iceberg_catalog" {
    name = "my_iceberg_catalog"
    catalog_type = "CATALOG_TYPE_GCS_BUCKET"
    depends_on = [
      google_storage_bucket.bucket_for_my_iceberg_catalog
    ]
}
```

## Argument Reference

The following arguments are supported:


* `catalog_type` -
  (Required)
  The catalog type of the IcebergCatalog. Currently only supports the type for Google Cloud Storage Buckets.
  Possible values are: `CATALOG_TYPE_GCS_BUCKET`.

* `name` -
  (Required)
  The name of the IcebergCatalog. Format:
  projects/{project_id_or_number}/catalogs/{iceberg_catalog_id}


* `credential_mode` -
  (Optional)
  The credential mode used for the catalog. CREDENTIAL_MODE_END_USER - End user credentials, default. The authenticating user must have access to the catalog resources and the corresponding Google Cloud Storage files. CREDENTIAL_MODE_VENDED_CREDENTIALS - Use credential vending. The authenticating user must have access to the catalog resources and the system will provide the caller with downscoped credentials to access the Google Cloud Storage files. All table operations in this mode would require `X-Iceberg-Access-Delegation` header with `vended-credentials` value included. System will generate a service account and the catalog administrator must grant the service account appropriate permissions.
  Possible values are: `CREDENTIAL_MODE_END_USER`, `CREDENTIAL_MODE_VENDED_CREDENTIALS`.

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.



## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `restcatalog/extensions/projects/{{project}}/catalogs/{{name}}`

* `biglake_service_account` -
  Output only. The service account used for credential vending. It might be empty if credential vending was never enabled for the catalog.

* `default_location` -
  Output only. The default storage location for the catalog, e.g., `gs://my-bucket`.

* `storage_regions` -
  Output only. The GCP region(s) where the physical metadata for the tables is stored, e.g. `us-central1`, `nam4` or `us`. This will contain one value for all locations, except for the catalogs that are configured to use custom dual region buckets.

* `create_time` -
  Output only. The creation time of the IcebergCatalog.

* `update_time` -
  Output only. The last modification time of the IcebergCatalog.

* `replicas` -
  Output only. The replicas for the catalog metadata.
  Structure is [documented below](#nested_replicas).


<a name="nested_replicas"></a>The `replicas` block contains:

* `region` -
  (Output)
  The region of the replica, e.g., `us-east1`.

* `state` -
  (Output)
  If the IcebergCatalog is replicated to multiple regions, this describes the current state of the replica. STATE_UNKNOWN - The replica state is unknown. STATE_PRIMARY - The replica is the writable primary. STATE_PRIMARY_IN_PROGRESS - The replica has been recently assigned as the primary, but not all namespaces are writeable yet. STATE_SECONDARY - The replica is a read-only secondary replica.

## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


IcebergCatalog can be imported using any of these accepted formats:

* `restcatalog/extensions/projects/{{project}}/catalogs/{{name}}`
* `{{project}}/{{name}}`
* `{{name}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import IcebergCatalog using one of the formats above. For example:

```tf
import {
  id = "restcatalog/extensions/projects/{{project}}/catalogs/{{name}}"
  to = google_biglake_iceberg_catalog.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), IcebergCatalog can be imported using one of the formats above. For example:

```
$ terraform import google_biglake_iceberg_catalog.default restcatalog/extensions/projects/{{project}}/catalogs/{{name}}
$ terraform import google_biglake_iceberg_catalog.default {{project}}/{{name}}
$ terraform import google_biglake_iceberg_catalog.default {{name}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
