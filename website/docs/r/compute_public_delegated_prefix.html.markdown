---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/compute/PublicDelegatedPrefix.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Compute Engine"
description: |-
  Represents a PublicDelegatedPrefix for use with bring your own IP addresses (BYOIP).
---

# google_compute_public_delegated_prefix

Represents a PublicDelegatedPrefix for use with bring your own IP addresses (BYOIP).


To get more information about PublicDelegatedPrefix, see:

* [API documentation](https://cloud.google.com/compute/docs/reference/rest/v1/publicDelegatedPrefixes)
* How-to Guides
    * [Using bring your own IP](https://cloud.google.com/vpc/docs/using-bring-your-own-ip)

## Example Usage - Public Delegated Prefixes Basic


```hcl
resource "google_compute_public_advertised_prefix" "advertised" {
  name = "my-prefix"
  description = "description"
  dns_verification_ip = "127.127.0.0"
  ip_cidr_range = "127.127.0.0/16"
}

resource "google_compute_public_delegated_prefix" "prefixes" {
  name = "my-prefix"
  region = "us-central1"
  description = "my description"
  ip_cidr_range = "127.127.0.0/24"
  parent_prefix = google_compute_public_advertised_prefix.advertised.id
}
```
## Example Usage - Public Delegated Prefixes Ipv6


```hcl
resource "google_compute_public_advertised_prefix" "advertised" {
  name = "ipv6-pap"
  description = "description"
  dns_verification_ip = "2001:db8::"
  ip_cidr_range = "2001:db8::/32"
  pdp_scope = "REGIONAL"
}

resource "google_compute_public_delegated_prefix" "prefix" {
  name = "ipv6-root-pdp"
  description = "test-delegation-mode-pdp"
  region = "us-west1"
  ip_cidr_range = "2001:db8::/40"
  parent_prefix = google_compute_public_advertised_prefix.advertised.id
  mode = "DELEGATION"
}

resource "google_compute_public_delegated_prefix" "subprefix" {
  name = "ipv6-sub-pdp"
  description = "test-forwarding-rule-mode-pdp"
  region = "us-west1"
  ip_cidr_range = "2001:db8::/48"
  parent_prefix = google_compute_public_delegated_prefix.prefix.id
  allocatable_prefix_length = 64
  mode = "EXTERNAL_IPV6_FORWARDING_RULE_CREATION"
}
```
## Example Usage - Public Delegated Prefix Ipv6 Subnet Mode


```hcl
resource "google_compute_public_advertised_prefix" "advertised" {
  name = "ipv6-pap"
  description = "description"
  dns_verification_ip = "2001:db8::"
  ip_cidr_range = "2001:db8::/32"
  pdp_scope = "REGIONAL"
}

resource "google_compute_public_delegated_prefix" "prefix" {
  name = "ipv6-root-pdp"
  description = "test-delegation-mode-pdp"
  region = "us-east1"
  ip_cidr_range = "2001:db8::/40"
  parent_prefix = google_compute_public_advertised_prefix.advertised.id
  mode = "DELEGATION"
}

resource "google_compute_public_delegated_prefix" "subprefix" {
  name = "ipv6-sub-pdp"
  description = "test-subnet-mode-pdp"
  region = "us-east1"
  ip_cidr_range = "2001:db8::/48"
  parent_prefix = google_compute_public_delegated_prefix.prefix.id
  mode = "EXTERNAL_IPV6_SUBNETWORK_CREATION"
}
```
## Example Usage - Public Delegated Prefix Internal Ipv6 Subnet Mode


```hcl
resource "google_compute_public_advertised_prefix" "advertised" {
  name = "ipv6-pap"
  description = "description"
  ip_cidr_range = "2001:db8::/32"
  pdp_scope = "REGIONAL"
  ipv6_access_type = "INTERNAL"
}

resource "google_compute_public_delegated_prefix" "prefix" {
  name = "ipv6-root-pdp"
  description = "test-delegation-mode-pdp"
  region = "us-east1"
  ip_cidr_range = "2001:db8::/40"
  parent_prefix = google_compute_public_advertised_prefix.advertised.id
  mode = "DELEGATION"
}

resource "google_compute_public_delegated_prefix" "subprefix" {
  name = "ipv6-sub-pdp"
  description = "test-subnet-mode-pdp"
  region = "us-east1"
  ip_cidr_range = "2001:db8::/48"
  parent_prefix = google_compute_public_delegated_prefix.prefix.id
  mode = "INTERNAL_IPV6_SUBNETWORK_CREATION"
}
```

## Argument Reference

The following arguments are supported:


* `region` -
  (Required)
  A region where the prefix will reside.

* `name` -
  (Required)
  Name of the resource. The name must be 1-63 characters long, and
  comply with RFC1035. Specifically, the name must be 1-63 characters
  long and match the regular expression `[a-z]([-a-z0-9]*[a-z0-9])?`
  which means the first character must be a lowercase letter, and all
  following characters must be a dash, lowercase letter, or digit,
  except the last character, which cannot be a dash.

* `parent_prefix` -
  (Required)
  The URL of parent prefix. Either PublicAdvertisedPrefix or PublicDelegatedPrefix.

* `ip_cidr_range` -
  (Required)
  The IP address range, in CIDR format, represented by this public delegated prefix.


* `description` -
  (Optional)
  An optional description of this resource.

* `is_live_migration` -
  (Optional)
  If true, the prefix will be live migrated.

* `mode` -
  (Optional)
  Specifies the mode of this IPv6 PDP. MODE must be one of:
    * DELEGATION
    * EXTERNAL_IPV6_FORWARDING_RULE_CREATION
    * EXTERNAL_IPV6_SUBNETWORK_CREATION
    * INTERNAL_IPV6_SUBNETWORK_CREATION
  Possible values are: `DELEGATION`, `EXTERNAL_IPV6_FORWARDING_RULE_CREATION`, `EXTERNAL_IPV6_SUBNETWORK_CREATION`, `INTERNAL_IPV6_SUBNETWORK_CREATION`.

* `allocatable_prefix_length` -
  (Optional)
  The allocatable prefix length supported by this public delegated prefix. This field is optional and cannot be set for prefixes in DELEGATION mode. It cannot be set for IPv4 prefixes either, and it always defaults to 32.

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.



## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/regions/{{region}}/publicDelegatedPrefixes/{{name}}`

* `ipv6_access_type` -
  The internet access type for IPv6 Public Delegated Prefixes. Inherited
  from parent prefix and can be one of following:
    * EXTERNAL: The prefix will be announced to the internet. All children
    PDPs will have access type as EXTERNAL.
    * INTERNAL: The prefix won’t be announced to the internet. Prefix will
    be used privately within Google Cloud. All children PDPs will have
    access type as INTERNAL.

* `public_delegated_sub_prefixs` -
  List of sub public delegated fixes for BYO IP functionality.
  Each item in this array represents a sub prefix that can be
  used to create addresses or further allocations.
  Structure is [documented below](#nested_public_delegated_sub_prefixs).
* `self_link` - The URI of the created resource.


<a name="nested_public_delegated_sub_prefixs"></a>The `public_delegated_sub_prefixs` block contains:

* `name` -
  (Optional)
  The name of the sub public delegated prefix.

* `description` -
  (Optional)
  An optional description of this sub public delegated prefix.

* `region` -
  (Optional)
  Output-only. The region of the sub public delegated prefix if it is regional. If absent, the sub prefix is global.

* `status` -
  (Optional)
  The status of the sub public delegated prefix.
  Possible values are: `INITIALIZING`, `READY_TO_ANNOUNCE`, `ANNOUNCED`, `DELETING`.

* `ip_cidr_range` -
  (Optional)
  The IP address range in the CIDR format represented by this sub prefix.

* `is_address` -
  (Optional)
  Whether the sub prefix is delegated for address creation.

* `mode` -
  (Optional)
  The PublicDelegatedSubPrefix mode for IPv6 only.
  Possible values are: `DELEGATION`, `EXTERNAL_IPV6_FORWARDING_RULE_CREATION`, `EXTERNAL_IPV6_SUBNETWORK_CREATION`, `INTERNAL_IPV6_SUBNETWORK_CREATION`.

* `allocatable_prefix_length` -
  (Optional)
  The allocatable prefix length supported by this PublicDelegatedSubPrefix.

* `ipv6_access_type` -
  (Output)
  The internet access type for IPv6 Public Delegated Prefixes. Inherited
  from parent prefix and can be one of following:
    * EXTERNAL: The prefix will be announced to the internet. All children
    PDPs will have access type as EXTERNAL.
    * INTERNAL: The prefix won’t be announced to the internet. Prefix will
    be used privately within Google Cloud. All children PDPs will have
    access type as INTERNAL.

* `delegatee_project` -
  (Optional)
  Name of the project scoping this PublicDelegatedSubPrefix.

## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


PublicDelegatedPrefix can be imported using any of these accepted formats:

* `projects/{{project}}/regions/{{region}}/publicDelegatedPrefixes/{{name}}`
* `{{project}}/{{region}}/{{name}}`
* `{{region}}/{{name}}`
* `{{name}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import PublicDelegatedPrefix using one of the formats above. For example:

```tf
import {
  id = "projects/{{project}}/regions/{{region}}/publicDelegatedPrefixes/{{name}}"
  to = google_compute_public_delegated_prefix.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), PublicDelegatedPrefix can be imported using one of the formats above. For example:

```
$ terraform import google_compute_public_delegated_prefix.default projects/{{project}}/regions/{{region}}/publicDelegatedPrefixes/{{name}}
$ terraform import google_compute_public_delegated_prefix.default {{project}}/{{region}}/{{name}}
$ terraform import google_compute_public_delegated_prefix.default {{region}}/{{name}}
$ terraform import google_compute_public_delegated_prefix.default {{name}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
