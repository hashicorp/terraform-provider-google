---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/vmwareengine/Datastore.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Cloud VMware Engine"
description: |-
  A datastore resource that can be mounted on a privatecloud cluster
---

# google_vmwareengine_datastore

A datastore resource that can be mounted on a privatecloud cluster



## Example Usage - Vmware Engine Datastore Thirdparty


```hcl
# use existing network with connectivity to the thirdparty datastore
data "google_compute_network" "default" {
  name      = "default"
}

# create a thirdparty datastore
resource "google_vmwareengine_datastore" "example_thirdparty" {
  name        = "thirdparty-datastore"
  location    = "us-west1-a"
  description = "example thirdparty datastore."

  nfs_datastore {
    third_party_file_service {
      file_share  = "/share1"
      network     = data.google_compute_network.default.id
      servers     = ["10.0.0.4"]
    }
  }
}
```
## Example Usage - Vmware Engine Datastore Filestore


```hcl
# Use existing filestore instance
data "google_filestore_instance" "test_instance" {
  name     = "fs-instance"
  location = ""
}

# Create a VmwareEngine Datastore, referencing the filestore instance
resource "google_vmwareengine_datastore" "example_filestore" {
  name        = "filestore-datastore"
  location    = ""
  description = "example google_file_service.filestore datastore."

  nfs_datastore {
    google_file_service {
      filestore_instance = google_filestore_instance.test_instance.id
    }
  }
}
```
## Example Usage - Vmware Engine Datastore Netapp


```hcl
# Use existing netapp volume
resource "google_netapp_volume" "test_volume" {
  name     = "netapp-volume"
  location = "us-west1"
}

# Create a VmwareEngine Datastore, referencing the netapp volume
resource "google_vmwareengine_datastore" "example_netapp" {
  name        = "netapp-datastore"
  location    = "us-west1"
  description = "example google_file_service.netapp datastore."

  nfs_datastore {
    google_file_service {
      netapp_volume = google_netapp_volume.test_volume.id
    }
  }
}
```

## Argument Reference

The following arguments are supported:


* `nfs_datastore` -
  (Required)
  The NFS datastore configuration.
  Structure is [documented below](#nested_nfs_datastore).

* `location` -
  (Required)
  Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.

* `name` -
  (Required)
  The user-provided identifier of the datastore to be created.
  This identifier must be unique among each `Datastore` within the parent
  and becomes the final token in the name URI.
  The identifier must meet the following requirements:
  * Only contains 1-63 alphanumeric characters and hyphens
  * Begins with an alphabetical character
  * Ends with a non-hyphen character
  * Not formatted as a UUID
  * Complies with [RFC 1034](https://datatracker.ietf.org/doc/html/rfc1034)
  (section 3.5)


* `description` -
  (Optional)
  User-provided description for this datastore

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.



<a name="nested_nfs_datastore"></a>The `nfs_datastore` block supports:

* `google_file_service` -
  (Optional)
  Google service file service configuration
  Structure is [documented below](#nested_nfs_datastore_google_file_service).

* `third_party_file_service` -
  (Optional)
  Third party file service configuration
  Structure is [documented below](#nested_nfs_datastore_third_party_file_service).


<a name="nested_nfs_datastore_google_file_service"></a>The `google_file_service` block supports:

* `filestore_instance` -
  (Optional)
  Google filestore instance resource name
  e.g. projects/my-project/locations/me-west1-b/instances/my-instance

* `netapp_volume` -
  (Optional)
  Google netapp volume resource name
  e.g. projects/my-project/locations/me-west1-b/volumes/my-volume

<a name="nested_nfs_datastore_third_party_file_service"></a>The `third_party_file_service` block supports:

* `file_share` -
  (Required)
  Required
  Mount Folder name

* `network` -
  (Required)
  Required to identify vpc peering used for NFS access
  network name of NFS's vpc
  e.g. projects/project-id/global/networks/my-network_id

* `servers` -
  (Required)
  Server IP addresses of the NFS file service.
  NFS v3, provide a single IP address or DNS name.
  Multiple servers can be supported in future when NFS 4.1 protocol support
  is enabled.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/{{location}}/datastores/{{name}}`

* `clusters` -
  Clusters to which the datastore is attached.

* `create_time` -
  Creation time of this resource.

* `state` -
  The state of the Datastore.
  Possible values:
  CREATING
  ACTIVE
  UPDATING
  DELETING
  SOFT_DELETING
  SOFT_DELETED

* `uid` -
  System-generated unique identifier for the resource.

* `update_time` -
  Last update time of this resource.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


Datastore can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/datastores/{{name}}`
* `{{project}}/{{location}}/{{name}}`
* `{{location}}/{{name}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Datastore using one of the formats above. For example:

```tf
import {
  id = "projects/{{project}}/locations/{{location}}/datastores/{{name}}"
  to = google_vmwareengine_datastore.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), Datastore can be imported using one of the formats above. For example:

```
$ terraform import google_vmwareengine_datastore.default projects/{{project}}/locations/{{location}}/datastores/{{name}}
$ terraform import google_vmwareengine_datastore.default {{project}}/{{location}}/{{name}}
$ terraform import google_vmwareengine_datastore.default {{location}}/{{name}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
