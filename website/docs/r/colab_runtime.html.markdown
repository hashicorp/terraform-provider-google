---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/colab/Runtime.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Colab Enterprise"
description: |-
  'A runtime is a Google-provisioned virtual machine (VM) that can run the code in your notebook (IPYNB file).
---

# google_colab_runtime

'A runtime is a Google-provisioned virtual machine (VM) that can run the code in your notebook (IPYNB file).'


To get more information about Runtime, see:

* [API documentation](https://cloud.google.com/vertex-ai/docs/reference/rest/v1/projects.locations.notebookRuntimes)
* How-to Guides
    * [Create a runtime](https://cloud.google.com/colab/docs/create-runtime)

<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=colab_runtime_basic&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Colab Runtime Basic


```hcl
resource "google_colab_runtime_template" "my_template" {
  name = "colab-runtime"
  display_name = "Runtime template basic"
  location = "us-central1"

  machine_spec {
    machine_type     = "e2-standard-4"
  }

  network_spec {
    enable_internet_access = true
  }
}

resource "google_colab_runtime" "runtime" {
  name = "colab-runtime"
  location = "us-central1" 
  
  notebook_runtime_template_ref {
    notebook_runtime_template = google_colab_runtime_template.my_template.id
  }
  
  display_name = "Runtime basic"
  runtime_user = "gterraformtestuser@gmail.com"

  depends_on = [
    google_colab_runtime_template.my_template,
  ]
}
```
<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=colab_runtime_stopped&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Colab Runtime Stopped


```hcl
resource "google_colab_runtime_template" "my_template" {
  name = "colab-runtime"
  display_name = "Runtime template basic"
  location = "us-central1"

  machine_spec {
    machine_type     = "e2-standard-4"
  }

  network_spec {
    enable_internet_access = true
  }
}

resource "google_colab_runtime" "runtime" {
  name = "colab-runtime"
  location = "us-central1" 
  
  notebook_runtime_template_ref {
    notebook_runtime_template = google_colab_runtime_template.my_template.id
  }

  desired_state = "STOPPED"
  
  display_name = "Runtime stopped"
  runtime_user = "gterraformtestuser@gmail.com"

  depends_on = [
    google_colab_runtime_template.my_template,
  ]
}
```
<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=colab_runtime_full&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Colab Runtime Full


```hcl
resource "google_colab_runtime_template" "my_template" {
  name        = "colab-runtime"
  display_name = "Runtime template full"
  location    = "us-central1"
  description = "Full runtime template"
  machine_spec {
    machine_type     = "n1-standard-2"
    accelerator_type = "NVIDIA_TESLA_T4"
    accelerator_count = "1"
  }

  data_persistent_disk_spec {
    disk_type    = "pd-standard"
    disk_size_gb = 200
  }

  network_spec {
    enable_internet_access = true
  }

  labels = {
    k = "val"
  }

  idle_shutdown_config {
    idle_timeout = "3600s"
  }

  euc_config {
    euc_disabled = true
  }

  shielded_vm_config {
    enable_secure_boot = true
  }

  network_tags = ["abc", "def"]

  encryption_spec {
    kms_key_name = "my-crypto-key"
  }
}

resource "google_colab_runtime" "runtime" {
  name = "colab-runtime"
  location = "us-central1" 
  
  notebook_runtime_template_ref {
    notebook_runtime_template = google_colab_runtime_template.my_template.id
  }
  
  display_name = "Runtime full"
  runtime_user = "gterraformtestuser@gmail.com"
  description = "Full runtime"

  desired_state = "ACTIVE"

  auto_upgrade = true

  depends_on = [
    google_colab_runtime_template.my_template
  ]
}
```

## Argument Reference

The following arguments are supported:


* `runtime_user` -
  (Required)
  The user email of the NotebookRuntime.

* `display_name` -
  (Required)
  Required. The display name of the Runtime.

* `location` -
  (Required)
  The location for the resource: https://cloud.google.com/colab/docs/locations


* `notebook_runtime_template_ref` -
  (Optional)
  'Runtime specific information used for NotebookRuntime creation.'
  Structure is [documented below](#nested_notebook_runtime_template_ref).

* `description` -
  (Optional)
  The description of the Runtime.

* `name` -
  (Optional)
  The resource name of the Runtime

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.

* `deletion_policy` - (Optional) Whether Terraform will be prevented from destroying the resource. Defaults to DELETE.
	When a 'terraform destroy' or 'terraform apply' would delete the resource,
	the command will fail if this field is set to "PREVENT" in Terraform state.
	When set to "ABANDON", the command will remove the resource from Terraform
	management without updating or deleting the resource in the API.
	When set to "DELETE", deleting the resource is allowed.
* `desired_state` - (Optional) Desired state of the Colab Runtime. Set this field to `RUNNING` to start the runtime, and `STOPPED` to stop it.

* `auto_upgrade` - (Optional) Triggers an upgrade anytime the runtime is started if it is upgradable.



<a name="nested_notebook_runtime_template_ref"></a>The `notebook_runtime_template_ref` block supports:

* `notebook_runtime_template` -
  (Required)
  The resource name of the NotebookRuntimeTemplate based on which a NotebookRuntime will be created.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/{{location}}/notebookRuntimes/{{name}}`

* `state` -
  Output only. The state of the runtime.

* `is_upgradable` -
  Output only. Checks if the NotebookRuntime is upgradable.

* `expiration_time` -
  Output only. Timestamp when this NotebookRuntime will be expired.

* `notebook_runtime_type` -
  Output only. The type of the notebook runtime.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


Runtime can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/notebookRuntimes/{{name}}`
* `{{project}}/{{location}}/{{name}}`
* `{{location}}/{{name}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Runtime using one of the formats above. For example:

```tf
import {
  id = "projects/{{project}}/locations/{{location}}/notebookRuntimes/{{name}}"
  to = google_colab_runtime.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), Runtime can be imported using one of the formats above. For example:

```
$ terraform import google_colab_runtime.default projects/{{project}}/locations/{{location}}/notebookRuntimes/{{name}}
$ terraform import google_colab_runtime.default {{project}}/{{location}}/{{name}}
$ terraform import google_colab_runtime.default {{location}}/{{name}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
