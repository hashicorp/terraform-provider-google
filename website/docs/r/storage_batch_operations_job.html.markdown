---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/storagebatchoperations/Job.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Cloud Storage Batch Operations"
description: |-
  Storage Batch Operations (SBO) is a Cloud Storage management feature that offers a
  seamless experience to perform single batch operations on millions of GCS objects in a
  serverless manner.
---

# google_storage_batch_operations_job

Storage Batch Operations (SBO) is a Cloud Storage management feature that offers a
seamless experience to perform single batch operations on millions of GCS objects in a
serverless manner.



<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=storage_batch_operations&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Storage Batch Operations


```hcl
resource "google_storage_bucket" "bucket" {
  name     = "tf-sample-bucket"
  location = "us-central1"
  force_destroy = true
}

resource "google_storage_batch_operations_job" "tf-job" {
	job_id     = "tf-job"
	bucket_list {
		buckets  {
			bucket = google_storage_bucket.bucket.name
			prefix_list {
				included_object_prefixes = [
					"bkt"
				]
			}
		}
	}
	put_metadata {
		custom_metadata = {
			"key"="value"
		}
	}
	delete_protection = false
}
```

## Argument Reference

The following arguments are supported:



- - -


* `bucket_list` -
  (Optional)
  List of buckets and their objects to be transformed. Currently, only one bucket configuration is supported. If multiple buckets are specified, an error will be returned
  Structure is [documented below](#nested_bucket_list).

* `delete_object` -
  (Optional)
  allows batch operations to delete objects in bucket
  Structure is [documented below](#nested_delete_object).

* `put_metadata` -
  (Optional)
  allows batch operations to update metadata for objects in bucket
  Structure is [documented below](#nested_put_metadata).

* `rewrite_object` -
  (Optional)
  allows to update encryption key for objects in bucket.
  Structure is [documented below](#nested_rewrite_object).

* `put_object_hold` -
  (Optional)
  allows to update temporary hold or eventBased hold for objects in bucket.
  Structure is [documented below](#nested_put_object_hold).

* `job_id` -
  (Optional)
  The ID of the job.

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.

* `delete_protection` - (Optional) If set to `true`, the storage batch operation job will not be deleted and new job will be created.


<a name="nested_bucket_list"></a>The `bucket_list` block supports:

* `buckets` -
  (Required)
  List of buckets and their objects to be transformed.
  Structure is [documented below](#nested_bucket_list_buckets).


<a name="nested_bucket_list_buckets"></a>The `buckets` block supports:

* `bucket` -
  (Required)
  Bucket name for the objects to be transformed.

* `prefix_list` -
  (Optional)
  Specifies objects matching a prefix set.
  Structure is [documented below](#nested_bucket_list_buckets_buckets_prefix_list).

* `manifest` -
  (Optional)
  contain the manifest source file that is a CSV file in a Google Cloud Storage bucket.
  Structure is [documented below](#nested_bucket_list_buckets_buckets_manifest).


<a name="nested_bucket_list_buckets_buckets_prefix_list"></a>The `prefix_list` block supports:

* `included_object_prefixes` -
  (Optional)

<a name="nested_bucket_list_buckets_buckets_manifest"></a>The `manifest` block supports:

* `manifest_location` -
  (Optional)
  Specifies objects in a manifest file.

<a name="nested_delete_object"></a>The `delete_object` block supports:

* `permanent_object_deletion_enabled` -
  (Required)
  enable flag to permanently delete object and all object versions if versioning is enabled on bucket.

<a name="nested_put_metadata"></a>The `put_metadata` block supports:

* `custom_time` -
  (Optional)
  Updates the objects fixed custom time metadata.

* `content_disposition` -
  (Optional)
  Content-Disposition of the object data.

* `content_encoding` -
  (Optional)
  Content Encoding of the object data.

* `content_type` -
  (Optional)
  Content-Type of the object data.

* `content_language` -
  (Optional)
  Content-Language of the object data.

* `cache_control` -
  (Optional)
  Cache-Control directive to specify caching behavior of object data. If omitted and object is accessible to all anonymous users, the default will be public, max-age=3600

* `custom_metadata` -
  (Optional)
  User-provided metadata, in key/value pairs.

<a name="nested_rewrite_object"></a>The `rewrite_object` block supports:

* `kms_key` -
  (Required)
  valid kms key

<a name="nested_put_object_hold"></a>The `put_object_hold` block supports:

* `event_based_hold` -
  (Optional)
  set/unset to update event based hold for objects.

* `temporary_hold` -
  (Optional)
  set/unset to update temporary based hold for objects.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/global/jobs/{{job_id}}`

* `create_time` -
  The timestamp at which this storage batch operation was created.

* `update_time` -
  The timestamp at which this storage batch operation was most recently updated.

* `schedule_time` -
  The time that the job was scheduled.

* `complete_time` -
  The time that the job was completed.

* `state` -
  State of the job.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 120 minutes.
- `update` - Default is 120 minutes.
- `delete` - Default is 20 minutes.

## Import


Job can be imported using any of these accepted formats:

* `projects/{{project}}/locations/global/jobs/{{job_id}}`
* `{{project}}/{{job_id}}`
* `{{job_id}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Job using one of the formats above. For example:

```tf
import {
  id = "projects/{{project}}/locations/global/jobs/{{job_id}}"
  to = google_storage_batch_operations_job.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), Job can be imported using one of the formats above. For example:

```
$ terraform import google_storage_batch_operations_job.default projects/{{project}}/locations/global/jobs/{{job_id}}
$ terraform import google_storage_batch_operations_job.default {{project}}/{{job_id}}
$ terraform import google_storage_batch_operations_job.default {{job_id}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
