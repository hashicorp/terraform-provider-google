---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/ces/Tool.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Customer Engagement Suite"
description: |-
  Description
---

# google_ces_tool

Description



<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=ces_tool_client_function_basic&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Ces Tool Client Function Basic


```hcl
resource "google_ces_app" "my-app" {
    location     = "us"
    display_name = "my-app"
    app_id       = "app-id"
    time_zone_settings {   
        time_zone = "America/Los_Angeles"
    }
}
resource "google_ces_tool" "ces_tool_client_function_basic" {
    location     = "us"
    app          = google_ces_app.my-app.name
    tool_id      = "ces_tool_basic1"
    execution_type = "SYNCHRONOUS"
    client_function {
        name = "ces_tool_client_function_basic"
        description = "example-description"
        parameters {
            additional_properties = jsonencode(
                {
                type        = "BOOLEAN"
                })
            any_of = jsonencode([
                {
                type        = "STRING"
                description = "any_of option 1: string"
                },])
            default = jsonencode(
                false)
            defs = jsonencode({
                SimpleString = {
                type        = "STRING"
                description = "A simple string definition"
            }})
            description = "schema description"
            enum = ["VALUE_A", "VALUE_B"]
            items = jsonencode({
                type        = "ARRAY"
                description = "An array"
            })
            max_items   = 32
            maximum     = 64
            min_items   = 1
            minimum     = 2
            nullable    = true
            prefix_items = jsonencode([
                {
                type        = "ARRAY"
                description = "prefix item 1"
                },])
            properties = jsonencode({
                name = {
                type        = "STRING"
                description = "A name"
            }})
            ref = "#/defs/MyDefinition"
            required = ["some_property"]
            title        = "Title"
            type         = "ARRAY"
            unique_items = true
        }
        response {
            additional_properties = jsonencode(
                {
                type        = "BOOLEAN"
                })
            any_of = jsonencode([
                {
                type        = "STRING"
                description = "any_of option 1: string"
                },])
            default = jsonencode(
                false)
            defs = jsonencode({
                SimpleString = {
                type        = "STRING"
                description = "A simple string definition"
            }})
            description = "schema description"
            enum = ["VALUE_A", "VALUE_B"]
            items = jsonencode({
                type        = "ARRAY"
                description = "An array"
            })
            max_items   = 32
            maximum     = 64
            min_items   = 1
            minimum     = 2
            nullable    = true
            prefix_items = jsonencode([
                {
                type        = "ARRAY"
                description = "prefix item 1"
                },])
            properties = jsonencode({
                name = {
                type        = "STRING"
                description = "A name"
            }})
            ref = "#/defs/MyDefinition"
            required = ["some_property"]
            title        = "Title"
            type         = "ARRAY"
            unique_items = true
        }
    }
}
```
<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=ces_tool_data_store_tool_engine_source_basic&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Ces Tool Data Store Tool Engine Source Basic


```hcl
resource "google_discovery_engine_data_store" "basic" {
  location                    = "global"
  data_store_id               = "tool_data_store_id"
  display_name                = "tf-test-structured-datastore"
  industry_vertical           = "GENERIC"
  content_config              = "NO_CONTENT"
  solution_types              = ["SOLUTION_TYPE_SEARCH"]
  create_advanced_site_search = false
}
resource "google_discovery_engine_search_engine" "basic" {
  engine_id = "tool_engine_id"
  collection_id = "default_collection"
  location = google_discovery_engine_data_store.basic.location
  display_name = "Example Display Name"
  data_store_ids = [google_discovery_engine_data_store.basic.data_store_id]
  search_engine_config {
  }
}
resource "google_ces_app" "my-app" {
    location     = "us"
    display_name = "my-app"
    app_id       = "app-id"
    time_zone_settings {   
        time_zone = "America/Los_Angeles"
    }
}
resource "google_ces_tool" "ces_tool_data_store_tool_engine_source_basic" {
    location       = "us"
    app            = google_ces_app.my-app.name
    tool_id        = "ces_tool_basic2"
    execution_type = "SYNCHRONOUS"
    data_store_tool {
        name = "example-tool"
        description = "example-description"
        boost_specs {
            data_stores = [
                google_discovery_engine_data_store.basic.name,
            ]
            spec {
                condition_boost_specs {
                    condition = "(lang_code: ANY(\"en\", \"fr\"))"
                    boost = 1
                    boost_control_spec {
                        field_name = "example-field"
                        attribute_type = "NUMERICAL"
                        interpolation_type = "LINEAR"
                        control_points {
                            attribute_value = 1
                            boost_amount = 1
                        }
                    }
                }
            }
        }
        modality_configs {
            modality_type = "TEXT"
            rewriter_config {
                model_settings {
                    model = "gemini-2.5-flash"
                    temperature = 1
                }
                prompt = "example-prompt"
                disabled = false
            }
            summarization_config {
                model_settings {
                    model = "gemini-2.5-flash"
                    temperature = 1
                }
                prompt = "example-prompt"
                disabled = false
            }
            grounding_config {
                grounding_level = 3
                disabled = false
            }
        }

        engine_source {
            engine = google_discovery_engine_search_engine.basic.name
            data_store_sources {
                filter = "example_field: ANY(\"specific_example\")"
                data_store {
                    name = google_discovery_engine_data_store.basic.name
                }
            }
            filter = "example_field: ANY(\"specific_example\")"
        }
        max_results = 5
    }
}
```
<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=ces_tool_google_search_tool_basic&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Ces Tool Google Search Tool Basic


```hcl
resource "google_ces_app" "my-app" {
    location     = "us"
    display_name = "my-app"
    app_id       = "app-id"
    time_zone_settings {   
        time_zone = "America/Los_Angeles"
    }
}
resource "google_ces_tool" "ces_tool_google_search_tool_basic" {
    location       = "us"
    app            = google_ces_app.my-app.name
    tool_id        = "ces_tool_basic3"
    execution_type = "SYNCHRONOUS"
    google_search_tool {
        name            = "example-tool"
        context_urls    = ["example.com", "example2.com"]
        description     = "example-description"
        exclude_domains = ["example.com", "example2.com"]
        preferred_domains = ["example3.com", "example4.com"]
    }
}
```
<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=ces_tool_python_function_basic&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Ces Tool Python Function Basic


```hcl
resource "google_ces_app" "my-app" {
    location     = "us"
    display_name = "my-app"
    app_id       = "app-id"
    time_zone_settings {   
        time_zone = "America/Los_Angeles"
    }
}
resource "google_ces_tool" "ces_tool_python_function_basic" {
    location       = "us"
    app            = google_ces_app.my-app.name
    tool_id        = "ces_tool_basic4"
    execution_type = "SYNCHRONOUS"
    python_function {
        name = "example_function"
        python_code = "def example_function() -> int: return 0"
    }
}
```

## Argument Reference

The following arguments are supported:


* `location` -
  (Required)
  Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.

* `app` -
  (Required)
  Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.

* `tool_id` -
  (Required)
  The ID to use for the tool, which will become the final component of
  the tool's resource name. If not provided, a unique ID will be
  automatically assigned for the tool.


* `client_function` -
  (Optional)
  Represents a client-side function that the agent can invoke. When the
  tool is chosen by the agent, control is handed off to the client.
  The client is responsible for executing the function and returning the result
  as a ToolResponse to continue the interaction with the agent.
  Structure is [documented below](#nested_client_function).

* `data_store_tool` -
  (Optional)
  Tool to retrieve from Vertex AI Search datastore or engine for grounding.
  Accepts either a datastore or an engine, but not both.
  See Vertex AI Search:
  https://cloud.google.com/generative-ai-app-builder/docs/enterprise-search-introduction.
  Structure is [documented below](#nested_data_store_tool).

* `execution_type` -
  (Optional)
  Possible values:
  SYNCHRONOUS
  ASYNCHRONOUS

* `google_search_tool` -
  (Optional)
  Represents a tool to perform Google web searches for grounding.
  See
  https://cloud.google.com/vertex-ai/generative-ai/docs/grounding/grounding-with-google-search.
  Structure is [documented below](#nested_google_search_tool).

* `python_function` -
  (Optional)
  A Python function tool.
  Structure is [documented below](#nested_python_function).

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.



<a name="nested_client_function"></a>The `client_function` block supports:

* `description` -
  (Optional)
  The function description.

* `name` -
  (Required)
  The function name.

* `parameters` -
  (Optional)
  Represents a select subset of an OpenAPI 3.0 schema object.
  Structure is [documented below](#nested_client_function_parameters).

* `response` -
  (Optional)
  Represents a select subset of an OpenAPI 3.0 schema object.
  Structure is [documented below](#nested_client_function_response).


<a name="nested_client_function_parameters"></a>The `parameters` block supports:

* `additional_properties` -
  (Optional)
  Defines the schema for additional properties allowed in an object.
  The value must be a valid JSON string representing the Schema object.
  (Note: OpenAPI also allows a boolean, this definition expects a Schema JSON).

* `any_of` -
  (Optional)
  The instance value should be valid against at least one of the schemas in this list.

* `default` -
  (Optional)
  Default value of the data. Represents a dynamically typed value
  which can be either null, a number, a string, a boolean, a struct,
  or a list of values. The provided default value must be compatible
  with the defined 'type' and other schema constraints.

* `defs` -
  (Optional)
  A map of definitions for use by ref. Only allowed at the root of the schema.

* `description` -
  (Optional)
  The description of the data.

* `enum` -
  (Optional)
  Possible values of the element of primitive type with enum format.
  Examples:
  1. We can define direction as :
  {type:STRING, format:enum, enum:["EAST", NORTH", "SOUTH", "WEST"]}
  2. We can define apartment number as :
  {type:INTEGER, format:enum, enum:["101", "201", "301"]}

* `items` -
  (Optional)
  Schema of the elements of Type.ARRAY.

* `max_items` -
  (Optional)
  Maximum number of the elements for Type.ARRAY. (int64 format)

* `maximum` -
  (Optional)
  Maximum value for Type.INTEGER and Type.NUMBER.

* `min_items` -
  (Optional)
  Minimum number of the elements for Type.ARRAY. (int64 format)

* `minimum` -
  (Optional)
  Minimum value for Type.INTEGER and Type.NUMBER.

* `nullable` -
  (Optional)
  Indicates if the value may be null.

* `prefix_items` -
  (Optional)
  Schemas of initial elements of Type.ARRAY.

* `properties` -
  (Optional)
  Properties of Type.OBJECT.

* `ref` -
  (Optional)
  Allows indirect references between schema nodes. The value should be a
  valid reference to a child of the root `defs`.
  For example, the following schema defines a reference to a schema node
  named "Pet":
  type: object
  properties:
    pet:
      ref: #/defs/Pet
  defs:
    Pet:
      type: object
      properties:
        name:
          type: string
  The value of the "pet" property is a reference to the schema node
  named "Pet".
  See details in
  https://json-schema.org/understanding-json-schema/structuring.

* `required` -
  (Optional)
  Required properties of Type.OBJECT.

* `title` -
  (Optional)
  The title of the schema.

* `type` -
  (Required)
  The type of the data.
  Possible values:
  STRING
  INTEGER
  NUMBER
  BOOLEAN
  OBJECT
  ARRAY

* `unique_items` -
  (Optional)
  Indicate the items in the array must be unique. Only applies to TYPE.ARRAY.

<a name="nested_client_function_response"></a>The `response` block supports:

* `additional_properties` -
  (Optional)
  Defines the schema for additional properties allowed in an object.
  The value must be a valid JSON string representing the Schema object.
  (Note: OpenAPI also allows a boolean, this definition expects a Schema JSON).

* `any_of` -
  (Optional)
  The instance value should be valid against at least one of the schemas in this list.

* `default` -
  (Optional)
  Default value of the data. Represents a dynamically typed value
  which can be either null, a number, a string, a boolean, a struct,
  or a list of values. The provided default value must be compatible
  with the defined 'type' and other schema constraints.

* `defs` -
  (Optional)
  A map of definitions for use by ref. Only allowed at the root of the schema.

* `description` -
  (Optional)
  The description of the data.

* `enum` -
  (Optional)
  Possible values of the element of primitive type with enum format.
  Examples:
  1. We can define direction as :
  {type:STRING, format:enum, enum:["EAST", NORTH", "SOUTH", "WEST"]}
  2. We can define apartment number as :
  {type:INTEGER, format:enum, enum:["101", "201", "301"]}

* `items` -
  (Optional)
  Schema of the elements of Type.ARRAY.

* `max_items` -
  (Optional)
  Maximum number of the elements for Type.ARRAY. (int64 format)

* `maximum` -
  (Optional)
  Maximum value for Type.INTEGER and Type.NUMBER.

* `min_items` -
  (Optional)
  Minimum number of the elements for Type.ARRAY. (int64 format)

* `minimum` -
  (Optional)
  Minimum value for Type.INTEGER and Type.NUMBER.

* `nullable` -
  (Optional)
  Indicates if the value may be null.

* `prefix_items` -
  (Optional)
  Schemas of initial elements of Type.ARRAY.

* `properties` -
  (Optional)
  Properties of Type.OBJECT.

* `ref` -
  (Optional)
  Allows indirect references between schema nodes. The value should be a
  valid reference to a child of the root `defs`.
  For example, the following schema defines a reference to a schema node
  named "Pet":
  type: object
  properties:
    pet:
      ref: #/defs/Pet
  defs:
    Pet:
      type: object
      properties:
        name:
          type: string
  The value of the "pet" property is a reference to the schema node
  named "Pet".
  See details in
  https://json-schema.org/understanding-json-schema/structuring.

* `required` -
  (Optional)
  Required properties of Type.OBJECT.

* `title` -
  (Optional)
  The title of the schema.

* `type` -
  (Required)
  The type of the data.
  Possible values:
  STRING
  INTEGER
  NUMBER
  BOOLEAN
  OBJECT
  ARRAY

* `unique_items` -
  (Optional)
  Indicate the items in the array must be unique. Only applies to TYPE.ARRAY.

<a name="nested_data_store_tool"></a>The `data_store_tool` block supports:

* `boost_specs` -
  (Optional)
  Boost specification to boost certain documents.
  Structure is [documented below](#nested_data_store_tool_boost_specs).

* `description` -
  (Optional)
  The tool description.

* `engine_source` -
  (Optional)
  Configuration for searching within an Engine, potentially targeting
  specific DataStores.
  Structure is [documented below](#nested_data_store_tool_engine_source).

* `max_results` -
  (Optional)
  Number of search results to return per query.
  The default value is 10. The maximum allowed value is 10.

* `modality_configs` -
  (Optional)
  The modality configs for the data store.
  Structure is [documented below](#nested_data_store_tool_modality_configs).

* `name` -
  (Required)
  The data store tool name.


<a name="nested_data_store_tool_boost_specs"></a>The `boost_specs` block supports:

* `data_stores` -
  (Required)
  The Data Store where the boosting configuration is applied. Full resource
  name of DataStore, such as
  projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}.

* `spec` -
  (Required)
  A list of boosting specifications.
  Structure is [documented below](#nested_data_store_tool_boost_specs_spec).


<a name="nested_data_store_tool_boost_specs_spec"></a>The `spec` block supports:

* `condition_boost_specs` -
  (Required)
  A list of boosting specifications.
  Structure is [documented below](#nested_data_store_tool_boost_specs_spec_condition_boost_specs).


<a name="nested_data_store_tool_boost_specs_spec_condition_boost_specs"></a>The `condition_boost_specs` block supports:

* `boost` -
  (Optional)
  Strength of the boost, which should be in [-1, 1]. Negative boost means
  demotion. Default is 0.0.
  Setting to 1.0 gives the suggestions a big promotion. However, it does
  not necessarily mean that the top result will be a boosted suggestion.
  Setting to -1.0 gives the suggestions a big demotion. However, other
  suggestions that are relevant might still be shown.
  Setting to 0.0 means no boost applied. The boosting condition is
  ignored.

* `boost_control_spec` -
  (Optional)
  Specification for custom ranking based on customer specified attribute
  value. It provides more controls for customized ranking than the simple
  (condition, boost) combination above.
  Structure is [documented below](#nested_data_store_tool_boost_specs_spec_condition_boost_specs_boost_control_spec).

* `condition` -
  (Required)
  An expression which specifies a boost condition. The syntax is the same
  as filter expression syntax. Currently, the only supported condition is
  a list of BCP-47 lang codes.
  Example: To boost suggestions in languages en or fr:
  (lang_code: ANY("en", "fr"))


<a name="nested_data_store_tool_boost_specs_spec_condition_boost_specs_boost_control_spec"></a>The `boost_control_spec` block supports:

* `attribute_type` -
  (Optional)
  The attribute type to be used to determine the boost amount. The
  attribute value can be derived from the field value of the specified
  field_name. In the case of numerical it is straightforward i.e.
  attribute_value = numerical_field_value. In the case of freshness
  however, attribute_value = (time.now() - datetime_field_value).
  Possible values:
  NUMERICAL
  FRESHNESS

* `control_points` -
  (Optional)
  The control points used to define the curve. The monotonic function
  (defined through the interpolation_type above) passes through the
  control points listed here.
  Structure is [documented below](#nested_data_store_tool_boost_specs_spec_condition_boost_specs_boost_control_spec_control_points).

* `field_name` -
  (Optional)
  The name of the field whose value will be used to determine the
  boost amount.

* `interpolation_type` -
  (Optional)
  The interpolation type to be applied to connect the control points
  listed below.
  Possible values:
  LINEAR


<a name="nested_data_store_tool_boost_specs_spec_condition_boost_specs_boost_control_spec_control_points"></a>The `control_points` block supports:

* `attribute_value` -
  (Optional)
  Can be one of:
  1. The numerical field value.
  2. The duration spec for freshness:
  The value must be formatted as an XSD `dayTimeDuration` value (a
  restricted subset of an ISO 8601 duration value). The pattern for
  this is: `nDnM]`.

* `boost_amount` -
  (Optional)
  The value between -1 to 1 by which to boost the score if the
  attribute_value evaluates to the value specified above.

<a name="nested_data_store_tool_engine_source"></a>The `engine_source` block supports:

* `data_store_sources` -
  (Optional)
  Use to target specific DataStores within the Engine.
  If empty, the search applies to all DataStores associated with the
  Engine.
  Structure is [documented below](#nested_data_store_tool_engine_source_data_store_sources).

* `engine` -
  (Required)
  Full resource name of the Engine.
  Format:
  `projects/{project}/locations/{location}/collections/{collection}/engines/{engine}`

* `filter` -
  (Optional)
  A filter applied to the search across the Engine. Not relevant and not
  used if 'data_store_sources' is provided.
  See:
  https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata


<a name="nested_data_store_tool_engine_source_data_store_sources"></a>The `data_store_sources` block supports:

* `data_store` -
  (Optional)
  A DataStore resource in Vertex AI Search.
  Structure is [documented below](#nested_data_store_tool_engine_source_data_store_sources_data_store).

* `filter` -
  (Optional)
  Filter specification for the DataStore.
  See:
  https://cloud.google.com/generative-ai-app-builder/docs/filter-search-metadata


<a name="nested_data_store_tool_engine_source_data_store_sources_data_store"></a>The `data_store` block supports:

* `connector_config` -
  (Output)
  The connector config for the data store connection.
  Structure is [documented below](#nested_data_store_tool_engine_source_data_store_sources_data_store_connector_config).

* `create_time` -
  (Output)
  Timestamp when the data store was created.

* `display_name` -
  (Output)
  The display name of the data store.

* `document_processing_mode` -
  (Output)
  The document processing mode for the data store connection.
  Only set for PUBLIC_WEB and UNSTRUCTURED data stores.
  Possible values:
  DOCUMENTS
  CHUNKS

* `name` -
  (Required)
  Full resource name of the DataStore.
  Format:
  `projects/{project}/locations/{location}/collections/{collection}/dataStores/{dataStore}`

* `type` -
  (Output)
  The type of the data store. This field is readonly and populated by the
  server.
  Possible values:
  PUBLIC_WEB
  UNSTRUCTURED
  FAQ
  CONNECTOR


<a name="nested_data_store_tool_engine_source_data_store_sources_data_store_connector_config"></a>The `connector_config` block contains:

* `collection` -
  (Output)
  Resource name of the collection the data store belongs to.

* `collection_display_name` -
  (Output)
  Display name of the collection the data store belongs to.

* `data_source` -
  (Output)
  The name of the data source.
  Example: `salesforce`, `jira`, `confluence`, `bigquery`.

<a name="nested_data_store_tool_modality_configs"></a>The `modality_configs` block supports:

* `grounding_config` -
  (Optional)
  Grounding configuration.
  Structure is [documented below](#nested_data_store_tool_modality_configs_grounding_config).

* `modality_type` -
  (Required)
  The modality type.
  Possible values:
  TEXT
  AUDIO

* `rewriter_config` -
  (Optional)
  Rewriter configuration.
  Structure is [documented below](#nested_data_store_tool_modality_configs_rewriter_config).

* `summarization_config` -
  (Optional)
  Summarization configuration.
  Structure is [documented below](#nested_data_store_tool_modality_configs_summarization_config).


<a name="nested_data_store_tool_modality_configs_grounding_config"></a>The `grounding_config` block supports:

* `disabled` -
  (Optional)
  Whether grounding is disabled.

* `grounding_level` -
  (Optional)
  The groundedness threshold of the answer based on the retrieved sources.
  The value has a configurable range of [1, 5]. The level is used to
  threshold the groundedness of the answer, meaning that all responses with
  a groundedness score below the threshold will fall back to returning
  relevant snippets only.
  For example, a level of 3 means that the groundedness score must be
  3 or higher for the response to be returned.

<a name="nested_data_store_tool_modality_configs_rewriter_config"></a>The `rewriter_config` block supports:

* `disabled` -
  (Optional)
  Whether the rewriter is disabled.

* `model_settings` -
  (Required)
  Model settings contains various configurations for the LLM model.
  Structure is [documented below](#nested_data_store_tool_modality_configs_rewriter_config_model_settings).

* `prompt` -
  (Optional)
  The prompt definition. If not set, default prompt will be used.


<a name="nested_data_store_tool_modality_configs_rewriter_config_model_settings"></a>The `model_settings` block supports:

* `model` -
  (Optional)
  The LLM model that the agent should use.
  If not set, the agent will inherit the model from its parent agent.

* `temperature` -
  (Optional)
  If set, this temperature will be used for the LLM model. Temperature
  controls the randomness of the model's responses. Lower temperatures
  produce responses that are more predictable. Higher temperatures produce
  responses that are more creative.

<a name="nested_data_store_tool_modality_configs_summarization_config"></a>The `summarization_config` block supports:

* `disabled` -
  (Optional)
  Whether summarization is disabled.

* `model_settings` -
  (Optional)
  Model settings contains various configurations for the LLM model.
  Structure is [documented below](#nested_data_store_tool_modality_configs_summarization_config_model_settings).

* `prompt` -
  (Optional)
  The prompt definition. If not set, default prompt will be used.


<a name="nested_data_store_tool_modality_configs_summarization_config_model_settings"></a>The `model_settings` block supports:

* `model` -
  (Optional)
  The LLM model that the agent should use.
  If not set, the agent will inherit the model from its parent agent.

* `temperature` -
  (Optional)
  If set, this temperature will be used for the LLM model. Temperature
  controls the randomness of the model's responses. Lower temperatures
  produce responses that are more predictable. Higher temperatures produce
  responses that are more creative.

<a name="nested_google_search_tool"></a>The `google_search_tool` block supports:

* `context_urls` -
  (Optional)
  Content will be fetched directly from these URLs for context and grounding.
  More details: https://cloud.google.com/vertex-ai/generative-ai/docs/url-context.
  Example: "https://example.com/path.html". A maximum of 20 URLs are allowed.

* `description` -
  (Optional)
  Description of the tool's purpose.

* `exclude_domains` -
  (Optional)
  List of domains to be excluded from the search results.
  Example: "example.com".
  A maximum of 2000 domains can be excluded.

* `name` -
  (Required)
  The name of the tool.

* `preferred_domains` -
  (Optional)
  Specifies domain names to guide the search.
  The model will be instructed to prioritize these domains
  when formulating queries for google search.
  This is a best-effort hint and these domains may or may
  not be exclusively reflected in the final search results.
  Example: "example.com", "another.site".
  A maximum of 20 domains can be specified.

<a name="nested_python_function"></a>The `python_function` block supports:

* `description` -
  (Output)
  The description of the Python function, parsed from the python code's
  docstring.

* `name` -
  (Optional)
  The name of the Python function to execute. Must match a Python function
  name defined in the python code. Case sensitive. If the name is not
  provided, the first function defined in the python code will be used.

* `python_code` -
  (Optional)
  The Python code to execute for the tool.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/{{location}}/apps/{{app}}/tools/{{name}}`

* `create_time` -
  Timestamp when the tool was created.

* `display_name` -
  The display name of the tool, derived based on the tool's type. For
  example, display name of a ClientFunction is derived
  from its `name` property.

* `etag` -
  Etag used to ensure the object hasn't changed during a read-modify-write
  operation. If the etag is empty, the update will overwrite any concurrent
  changes.

* `generated_summary` -
  If the tool is generated by the LLM assistant, this field contains a
  descriptive summary of the generation.

* `name` -
  Identifier. The unique identifier of the tool.
  Format:
  `projects/{project}/locations/{location}/apps/{app}/tools/{tool}`

* `open_api_tool` -
  A remote API tool defined by an OpenAPI schema.
  Structure is [documented below](#nested_open_api_tool).

* `update_time` -
  Timestamp when the tool was last updated.

* `system_tool` -
  The system tool.
  Structure is [documented below](#nested_system_tool).


<a name="nested_open_api_tool"></a>The `open_api_tool` block contains:

* `api_authentication` -
  (Output)
  Authentication information required for API calls.
  Structure is [documented below](#nested_open_api_tool_api_authentication).

* `description` -
  (Output)
  The description of the tool. If not provided, the description of the tool
  will be derived from the OpenAPI schema, from `operation.description` or
  `operation.summary`.

* `ignore_unknown_fields` -
  (Output)
  If true, the agent will ignore unknown fields in the API response.

* `name` -
  (Output)
  The name of the tool. If not provided, the name of the tool will be
  derived from the OpenAPI schema, from `operation.operationId`.

* `open_api_schema` -
  (Output)
  The OpenAPI schema in JSON or YAML format.

* `service_directory_config` -
  (Output)
  Configuration for tools using Service Directory.
  Structure is [documented below](#nested_open_api_tool_service_directory_config).

* `tls_config` -
  (Output)
  The TLS configuration.
  Structure is [documented below](#nested_open_api_tool_tls_config).

* `url` -
  (Output)
  The server URL of the Open API schema. This field is only set in tools in the
  environment dependencies during the export process if the schema contains a
  server url. During the import process, if this url is present in the environment
  dependencies and the schema has the $env_var placeholder, it will replace the
  placeholder in the schema.


<a name="nested_open_api_tool_api_authentication"></a>The `api_authentication` block contains:

* `api_key_config` -
  (Output)
  Configurations for authentication with API key.
  Structure is [documented below](#nested_open_api_tool_api_authentication_api_key_config).

* `bearer_token_config` -
  (Output)
  Configurations for authentication with a bearer token.
  Structure is [documented below](#nested_open_api_tool_api_authentication_bearer_token_config).

* `oauth_config` -
  (Output)
  Configurations for authentication with OAuth.
  Structure is [documented below](#nested_open_api_tool_api_authentication_oauth_config).

* `service_account_auth_config` -
  (Output)
  Configurations for authentication using a custom service account.
  Structure is [documented below](#nested_open_api_tool_api_authentication_service_account_auth_config).

* `service_agent_id_token_auth_config` -
  (Output)
  Configurations for authentication with [ID
  token](https://cloud.google.com/docs/authentication/token-types#id) generated
  from service agent.


<a name="nested_open_api_tool_api_authentication_api_key_config"></a>The `api_key_config` block contains:

* `api_key_secret_version` -
  (Output)
  The name of the SecretManager secret version resource storing the API key.
  Format: `projects/{project}/secrets/{secret}/versions/{version}`
  Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
  service agent
  `service-<PROJECT-NUMBER>@gcp-sa-ces.iam.gserviceaccount.com`.

* `key_name` -
  (Output)
  The parameter name or the header name of the API key.
  E.g., If the API request is "https://example.com/act?X-Api-Key=", "X-Api-Key" would be the parameter name.

* `request_location` -
  (Output)
  Key location in the request.
  Possible values:
  HEADER
  QUERY_STRING

<a name="nested_open_api_tool_api_authentication_bearer_token_config"></a>The `bearer_token_config` block contains:

* `token` -
  (Output)
  The bearer token. Must be in the format $context.variables.<name_of_variable>.

<a name="nested_open_api_tool_api_authentication_oauth_config"></a>The `oauth_config` block contains:

* `client_id` -
  (Output)
  The client ID from the OAuth provider.

* `client_secret_version` -
  (Output)
  The name of the SecretManager secret version resource storing the
  client secret.
  Format: `projects/{project}/secrets/{secret}/versions/{version}`
  Note: You should grant `roles/secretmanager.secretAccessor` role to the CES
  service agent
  `service-<PROJECT-NUMBER>@gcp-sa-ces.iam.gserviceaccount.com`.

* `oauth_grant_type` -
  (Output)
  OAuth grant types.
  Possible values:
  CLIENT_CREDENTIAL

* `scopes` -
  (Output)
  The OAuth scopes to grant.

* `token_endpoint` -
  (Output)
  The token endpoint in the OAuth provider to exchange for an access token.

<a name="nested_open_api_tool_api_authentication_service_account_auth_config"></a>The `service_account_auth_config` block contains:

* `service_account` -
  (Output)
  The email address of the service account used for authenticatation. CES
  uses this service account to exchange an access token and the access token
  is then sent in the `Authorization` header of the request.
  The service account must have the
  `roles/iam.serviceAccountTokenCreator` role granted to the
  CES service agent
  `service-<PROJECT-NUMBER>@gcp-sa-ces.iam.gserviceaccount.com`.

<a name="nested_open_api_tool_service_directory_config"></a>The `service_directory_config` block contains:

* `service` -
  (Output)
  The name of [Service
  Directory](https://cloud.google.com/service-directory) service.
  Format:
  `projects/{project}/locations/{location}/namespaces/{namespace}/services/{service}`.
  Location of the service directory must be the same as the location of the
  app.

<a name="nested_open_api_tool_tls_config"></a>The `tls_config` block contains:

* `ca_certs` -
  (Output)
  Specifies a list of allowed custom CA certificates for HTTPS
  verification.
  Structure is [documented below](#nested_open_api_tool_tls_config_ca_certs).


<a name="nested_open_api_tool_tls_config_ca_certs"></a>The `ca_certs` block contains:

* `cert` -
  (Output)
  The allowed custom CA certificates (in DER format) for
  HTTPS verification. This overrides the default SSL trust store. If this
  is empty or unspecified, CES will use Google's default trust
  store to verify certificates. N.B. Make sure the HTTPS server
  certificates are signed with "subject alt name". For instance a
  certificate can be self-signed using the following command,
  openssl x509 -req -days 200 -in example.com.csr \
  -signkey example.com.key \
  -out example.com.crt \
  -extfile <(printf "\nsubjectAltName='DNS:www.example.com'")
  A base64-encoded string.

* `display_name` -
  (Output)
  The name of the allowed custom CA certificates. This
  can be used to disambiguate the custom CA certificates.

<a name="nested_system_tool"></a>The `system_tool` block contains:

* `description` -
  (Output)
  The description of the system tool.

* `name` -
  (Output)
  The name of the system tool.

## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


Tool can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/apps/{{app}}/tools/{{name}}`
* `{{project}}/{{location}}/{{app}}/{{name}}`
* `{{location}}/{{app}}/{{name}}`

In Terraform v1.12.0 and later, use an [`identity` block](https://developer.hashicorp.com/terraform/language/resources/identities) to import Tool using identity values. For example:

```tf
import {
  identity = {
    name = "<-optional value->"
    location = "<-required value->"
    app = "<-required value->"
    project = "<-optional value->"
  }
  to = google_ces_tool.default
}
```

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import Tool using one of the formats above. For example:

```tf
import {
  id = "projects/{{project}}/locations/{{location}}/apps/{{app}}/tools/{{name}}"
  to = google_ces_tool.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), Tool can be imported using one of the formats above. For example:

```
$ terraform import google_ces_tool.default projects/{{project}}/locations/{{location}}/apps/{{app}}/tools/{{name}}
$ terraform import google_ces_tool.default {{project}}/{{location}}/{{app}}/{{name}}
$ terraform import google_ces_tool.default {{location}}/{{app}}/{{name}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
