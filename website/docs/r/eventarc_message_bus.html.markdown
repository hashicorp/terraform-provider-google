---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/eventarc/MessageBus.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Eventarc"
description: |-
  The Eventarc MessageBus resource
---

# google_eventarc_message_bus

The Eventarc MessageBus resource


To get more information about MessageBus, see:

* [API documentation](https://cloud.google.com/eventarc/docs/reference/rest/v1/projects.locations.messageBuses)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/eventarc/advanced/docs/publish-events/create-bus)

## Example Usage - Eventarc Message Bus With Cmek


```hcl
data "google_project" "test_project" {
	project_id = "my-project-name"
}

data "google_kms_key_ring" "test_key_ring" {
	name     = "keyring"
	location = "us-central1"
}

data "google_kms_crypto_key" "key" {
	name     = "key"
	key_ring = data.google_kms_key_ring.test_key_ring.id
}

resource "google_kms_crypto_key_iam_member" "key_member" {
  crypto_key_id = data.google_kms_crypto_key.key.id
  role          = "roles/cloudkms.cryptoKeyEncrypterDecrypter"
  member        = "serviceAccount:service-${data.google_project.test_project.number}@gcp-sa-eventarc.iam.gserviceaccount.com"
}

resource "google_eventarc_message_bus" "primary" {
  location        = "us-central1"
  message_bus_id  = "some-message-bus"
  crypto_key_name = data.google_kms_crypto_key.key.id
  depends_on      = [google_kms_crypto_key_iam_member.key_member]
}
```

## Argument Reference

The following arguments are supported:


* `location` -
  (Required)
  Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.

* `message_bus_id` -
  (Required)
  Required. The user-provided ID to be assigned to the MessageBus. It should match the
  format `^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$`.


- - -


* `logging_config` -
  (Optional)
  The configuration for Platform Telemetry logging for Eventarc Advanced
  resources.
  Structure is [documented below](#nested_logging_config).

* `labels` -
  (Optional)
  Optional. Resource labels.
  **Note**: This field is non-authoritative, and will only manage the labels present in your configuration.
  Please refer to the field `effective_labels` for all of the labels present on the resource.

* `annotations` -
  (Optional)
  Optional. Resource annotations.
  **Note**: This field is non-authoritative, and will only manage the annotations present in your configuration.
  Please refer to the field `effective_annotations` for all of the annotations present on the resource.

* `display_name` -
  (Optional)
  Optional. Resource display name.

* `crypto_key_name` -
  (Optional)
  Optional. Resource name of a KMS crypto key (managed by the user) used to
  encrypt/decrypt their event data.
  It must match the pattern
  `projects/*/locations/*/keyRings/*/cryptoKeys/*`.

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.


<a name="nested_logging_config"></a>The `logging_config` block supports:

* `log_severity` -
  (Required)
  Optional. The minimum severity of logs that will be sent to Stackdriver/Platform
  Telemetry. Logs at severitiy â‰¥ this value will be sent, unless it is NONE.
  Possible values are: `NONE`, `DEBUG`, `INFO`, `NOTICE`, `WARNING`, `ERROR`, `CRITICAL`, `ALERT`, `EMERGENCY`.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/locations/{{location}}/messageBuses/{{message_bus_id}}`

* `name` -
  Identifier. Resource name of the form
  projects/{project}/locations/{location}/messageBuses/{message_bus}

* `update_time` -
  Output only. The last-modified time.

* `uid` -
  Output only. Server assigned unique identifier for the channel. The value is a UUID4
  string and guaranteed to remain unchanged until the resource is deleted.

* `etag` -
  Output only. This checksum is computed by the server based on the value of other
  fields, and might be sent only on update and delete requests to ensure that
  the client has an up-to-date value before proceeding.

* `create_time` -
  Output only. The creation time.

* `terraform_labels` -
  The combination of labels configured directly on the resource
   and default labels configured on the provider.

* `effective_labels` -
  All of labels (key/value pairs) present on the resource in GCP, including the labels configured through Terraform, other clients and services.

* `effective_annotations` -
  All of annotations (key/value pairs) present on the resource in GCP, including the annotations configured through Terraform, other clients and services.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


MessageBus can be imported using any of these accepted formats:

* `projects/{{project}}/locations/{{location}}/messageBuses/{{message_bus_id}}`
* `{{project}}/{{location}}/{{message_bus_id}}`
* `{{location}}/{{message_bus_id}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import MessageBus using one of the formats above. For example:

```tf
import {
  id = "projects/{{project}}/locations/{{location}}/messageBuses/{{message_bus_id}}"
  to = google_eventarc_message_bus.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), MessageBus can be imported using one of the formats above. For example:

```
$ terraform import google_eventarc_message_bus.default projects/{{project}}/locations/{{location}}/messageBuses/{{message_bus_id}}
$ terraform import google_eventarc_message_bus.default {{project}}/{{location}}/{{message_bus_id}}
$ terraform import google_eventarc_message_bus.default {{location}}/{{message_bus_id}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
