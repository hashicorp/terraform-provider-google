---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/cloudsecuritycompliance/FrameworkDeployment.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Cloud Security Compliance"
description: |-
  Framework deployments represent the assignment of a framework to a target resource.
---

# google_cloud_security_compliance_framework_deployment

Framework deployments represent the assignment of a framework to a target resource. Supported target resources are organizations, folders, and projects.


To get more information about FrameworkDeployment, see:

* [API documentation](https://docs.cloud.google.com/security-command-center/docs/reference/cloudsecuritycompliance/rest/v1/organizations.locations.frameworkDeployments)

## Example Usage - Cloudsecuritycompliance Framework Deployment Basic


```hcl
resource "google_cloud_security_compliance_framework" "example" {
  organization = "123456789"
  location     = "global"
  framework_id = "example-framework"
  
  display_name = "Terraform Framework Name"
  description  = "An Terraform description for the framework"
  
  cloud_control_details {
		name              = "organizations/%{org_id}/locations/global/cloudControls/builtin-detective-policy-for-vertex-ai-runtime-template-idle-shutdown"
		major_revision_id = "1"
    
    parameters {
      name = "location"
      parameter_value {
        string_value = "us-central1"
      }
    }
    parameters {
      name = "oneof-parameter"
      parameter_value {
        oneof_value {
          name = "test-oneof"
          parameter_value {
            string_value = "test-value"
          }
        }
      }
    }
    parameters {
      name = "bool-parameter"
      parameter_value {
        oneof_value {
          name = "bool-oneof"
          parameter_value {
            bool_value = true
          }
        }
      }
    }
    parameters {
      name = "number-parameter"
      parameter_value {
        oneof_value {
          name = "number-oneof"
          parameter_value {
            number_value = 123.45
          }
        }
      }
    }
    parameters {
      name = "string-list-parameter"
      parameter_value {
        oneof_value {
          name = "string-list-oneof"
          parameter_value {
            string_list_value {
              values = ["value1", "value2"]
            }
          }
        }
      }
    }
  }
}

resource "google_cloud_security_compliance_framework_deployment" "example" {
  organization            = "123456789"
  location                = "global"
  framework_deployment_id = "example-deployment"
  description             = "A framework deployment for cloud security compliance"
  
  framework {
    framework         = google_cloud_security_compliance_framework.example.name
    major_revision_id = "1"
  }
  
  target_resource_config {
    existing_target_resource = "organizations/123456789"
  }
  
  cloud_control_metadata {
    enforcement_mode = "DETECTIVE"
    
    cloud_control_details {
      name                  = "organizations/123456789/locations/global/cloudControls/builtin-detective-policy-for-vertex-ai-runtime-template-idle-shutdown"
      major_revision_id     = "1"
      
      parameters {
        name = "enabled"
        parameter_value {
          bool_value = true
        }
      }
      
      parameters {
        name = "regions"
        parameter_value {
          string_list_value {
            values = ["us-central1", "us-west1", "us-east1"]
          }
        }
      }
      
      parameters {
        name = "location"
        parameter_value {
          string_value = "us-central1"
        }
      }
      parameters {
        name = "oneof-parameter"
        parameter_value {
          oneof_value {
            name = "test-oneof"
            parameter_value {
              string_value = "test-value"
            }
          }
        }
      }
      parameters {
        name = "bool-parameter"
        parameter_value {
          oneof_value {
            name = "bool-oneof"
            parameter_value {
              bool_value = true
            }
          }
        }
      }
      parameters {
        name = "number-parameter"
        parameter_value {
          oneof_value {
            name = "number-oneof"
            parameter_value {
              number_value = 123.45
            }
          }
        }
      }
      parameters {
        name = "string-list-parameter"
        parameter_value {
          oneof_value {
            name = "string-list-oneof"
            parameter_value {
              string_list_value {
                values = ["value1", "value2"]
              }
            }
          }
        }
      }
    }
  }

  cloud_control_metadata {
    enforcement_mode = "AUDIT"
    
    cloud_control_details {
      name                  = "organizations/123456789/locations/global/cloudControls/builtin-assign-correct-bucket-label"
      major_revision_id     = "1"

      parameters {
        name = "threshold"
        parameter_value {
          number_value = 100.5
        }
      }
      
      parameters {
        name = "regions"
        parameter_value {
          string_list_value {
            values = ["us-central1", "us-west1", "us-east1"]
          }
        }
      }
      
      parameters {
        name = "location"
        parameter_value {
          string_value = "us-central1"
        }
      }
    }
  }
}
```
## Example Usage - Cloudsecuritycompliance Framework Deployment Folder Creation


```hcl
resource "google_cloud_security_compliance_framework" "example" {
  organization = "123456789"
  location     = "global"
  framework_id = "example-framework-folder"
  
  display_name = "Terraform Framework Name"
  description  = "An Terraform description for the framework"
  
  cloud_control_details {
		name              = "organizations/%{org_id}/locations/global/cloudControls/builtin-detective-policy-for-vertex-ai-runtime-template-idle-shutdown"
		major_revision_id = "1"
    
    parameters {
      name = "location"
      parameter_value {
        string_value = "us-central1"
      }
    }
  }
}

resource "google_cloud_security_compliance_framework_deployment" "example" {
  organization            = "123456789"
  location                = "global"
  framework_deployment_id = "example-deployment-folder"
  description             = "A framework deployment with folder creation config"
  
  framework {
    framework             = google_cloud_security_compliance_framework.example.name
    major_revision_id     = "1"
  }
  
  target_resource_config {
    target_resource_creation_config {
      folder_creation_config {
        folder_display_name = "cm-folder"
        parent              = "organizations/123456789"
      }
    }
  }
  
  cloud_control_metadata {
    enforcement_mode = "DETECTIVE"
    
    cloud_control_details {
      name              = google_cloud_security_compliance_framework.example.cloud_control_details[0].name
      major_revision_id = "1"
      
      parameters {
        name = "location"
        parameter_value {
          string_value = "us-central1"
        }
      }
    }
  }
}
```
## Example Usage - Cloudsecuritycompliance Framework Deployment Project Creation


```hcl
resource "google_cloud_security_compliance_framework" "example" {
  organization = "123456789"
  location     = "global"
  framework_id = "example-framework-project"
  
  display_name = "Terraform Framework Name"
  description  = "An Terraform description for the framework"
  
  cloud_control_details {
		name              = "organizations/%{org_id}/locations/global/cloudControls/builtin-detective-policy-for-vertex-ai-runtime-template-idle-shutdown"
		major_revision_id = "1"
    
    parameters {
      name = "location"
      parameter_value {
        string_value = "us-central1"
      }
    }
  }
}

resource "google_cloud_security_compliance_framework_deployment" "example" {
  organization            = "123456789"
  location                = "global"
  framework_deployment_id = "example-deployment-project"
  description             = "A framework deployment with project creation config"
  
  framework {
    framework             = google_cloud_security_compliance_framework.example.name
    major_revision_id     = "1"
  }
  
  target_resource_config {
    target_resource_creation_config {
      project_creation_config {
        billing_account_id   = "000000-0000000-0000000-000000"
        parent               = "organizations/123456789"
        project_display_name = "cm-project"
      }
    }
  }
  
  cloud_control_metadata {
    enforcement_mode = "DETECTIVE"
    
    cloud_control_details {
  name              = "organizations/123456789/locations/global/cloudControls/builtin-detective-policy-for-vertex-ai-runtime-template-idle-shutdown"
      major_revision_id = "1"
      
      parameters {
        name = "location"
        parameter_value {
          string_value = "us-central1"
        }
      }
    }
  }
}
```

## Argument Reference

The following arguments are supported:


* `cloud_control_metadata` -
  (Required)
  Deployment mode and parameters for each of the Cloud Controls in
  the framework. Every Cloud Control in the framework must have a
  CloudControlMetadata.
  Structure is [documented below](#nested_cloud_control_metadata).

* `framework` -
  (Required)
  FrameworkReference contains the reference of a framework.
  Structure is [documented below](#nested_framework).

* `target_resource_config` -
  (Required)
  TargetResourceConfig contains either the name of the target_resource or
  contains the config to create a new target_resource.
  Structure is [documented below](#nested_target_resource_config).

* `organization` -
  (Required)
  Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.

* `location` -
  (Required)
  Resource ID segment making up resource `name`. It identifies the resource within its parent collection as described in https://google.aip.dev/122.

* `framework_deployment_id` -
  (Required)
  User provided identifier. It should be unique in scope of a parent.
  This is optional and if not provided, a random UUID will be generated.


* `description` -
  (Optional)
  User provided description of the Framework deployment



<a name="nested_cloud_control_metadata"></a>The `cloud_control_metadata` block supports:

* `cloud_control_details` -
  (Required)
  CloudControlDetails contains the details of a CloudControl.
  Structure is [documented below](#nested_cloud_control_metadata_cloud_control_details).

* `enforcement_mode` -
  (Required)
  Enforcement mode for the framework deployment.
  Possible values:
  PREVENTIVE
  DETECTIVE
  AUDIT


<a name="nested_cloud_control_metadata_cloud_control_details"></a>The `cloud_control_details` block supports:

* `major_revision_id` -
  (Required)
  Major revision of cloudcontrol

* `name` -
  (Required)
  The name of the CloudControl in the format:
  “organizations/{organization}/locations/{location}/
  cloudControls/{cloud-control}”

* `parameters` -
  (Optional)
  Parameters is a key-value pair that is required by the CloudControl. The
  specification of these parameters will be present in cloudcontrol.Eg: {
  "name": "location","value": "us-west-1"}.
  Structure is [documented below](#nested_cloud_control_metadata_cloud_control_details_parameters).


<a name="nested_cloud_control_metadata_cloud_control_details_parameters"></a>The `parameters` block supports:

* `name` -
  (Required)
  The name of the parameter.

* `parameter_value` -
  (Required)
  Possible parameter value types.
  Structure is [documented below](#nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value).


<a name="nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value"></a>The `parameter_value` block supports:

* `bool_value` -
  (Optional)
  Represents a boolean value.

* `number_value` -
  (Optional)
  Represents a double value.

* `string_list_value` -
  (Optional)
  A list of strings.
  Structure is [documented below](#nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_string_list_value).

* `string_value` -
  (Optional)
  Represents a string value.

* `oneof_value` -
  (Optional)
  Sub-parameter values.
  Structure is [documented below](#nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_oneof_value).


<a name="nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_string_list_value"></a>The `string_list_value` block supports:

* `values` -
  (Required)
  The strings in the list.

<a name="nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_oneof_value"></a>The `oneof_value` block supports:

* `name` -
  (Optional)
  The name of the parameter.

* `parameter_value` -
  (Optional)
  The value of the parameter.
  Structure is [documented below](#nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_oneof_value_parameter_value).


<a name="nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_oneof_value_parameter_value"></a>The `parameter_value` block supports:

* `bool_value` -
  (Optional)
  Represents a boolean value.

* `number_value` -
  (Optional)
  Represents a double value.

* `string_list_value` -
  (Optional)
  A list of strings.
  Structure is [documented below](#nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_oneof_value_parameter_value_string_list_value).

* `string_value` -
  (Optional)
  Represents a string value.


<a name="nested_cloud_control_metadata_cloud_control_details_parameters_parameter_value_oneof_value_parameter_value_string_list_value"></a>The `string_list_value` block supports:

* `values` -
  (Required)
  The strings in the list.

<a name="nested_framework"></a>The `framework` block supports:

* `framework` -
  (Required)
  In the format:
  organizations/{org}/locations/{location}/frameworks/{framework}

* `major_revision_id` -
  (Required)
  Major revision id of the framework.

<a name="nested_target_resource_config"></a>The `target_resource_config` block supports:

* `existing_target_resource` -
  (Optional)
  CRM node in format organizations/{organization}, folders/{folder},
  or projects/{project}

* `target_resource_creation_config` -
  (Optional)
  TargetResourceCreationConfig contains the config to create a new resource to
  be used as the target_resource of a deployment.
  Structure is [documented below](#nested_target_resource_config_target_resource_creation_config).


<a name="nested_target_resource_config_target_resource_creation_config"></a>The `target_resource_creation_config` block supports:

* `folder_creation_config` -
  (Optional)
  FolderCreationConfig contains the config to create a new folder to be used
  as the target_resource of a deployment.
  Structure is [documented below](#nested_target_resource_config_target_resource_creation_config_folder_creation_config).

* `project_creation_config` -
  (Optional)
  ProjectCreationConfig contains the config to create a new project to be used
  as the target_resource of a deployment.
  Structure is [documented below](#nested_target_resource_config_target_resource_creation_config_project_creation_config).


<a name="nested_target_resource_config_target_resource_creation_config_folder_creation_config"></a>The `folder_creation_config` block supports:

* `folder_display_name` -
  (Required)
  Display name of the folder to be created

* `parent` -
  (Required)
  The parent of the folder to be created. It can be an organizations/{org} or
  folders/{folder}

<a name="nested_target_resource_config_target_resource_creation_config_project_creation_config"></a>The `project_creation_config` block supports:

* `billing_account_id` -
  (Required)
  Billing account id to be used for the project.

* `parent` -
  (Required)
  organizations/{org} or folders/{folder}

* `project_display_name` -
  (Required)
  Display name of the project to be created.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `organizations/{{organization}}/locations/{{location}}/frameworkDeployments/{{framework_deployment_id}}`

* `cloud_control_deployment_references` -
  The references to the cloud control deployments. It has all the
  CloudControlDeployments which are either directly added in the framework or
  through a CloudControlGroup.
  Example: If a framework deployment deploys two
  cloud controls, cc-deployment-1 and cc-deployment-2, then the
  cloud_control_deployment_references will be:
  {
  cloud_control_deployment_reference: {
  cloud_control_deployment:
  "organizations/{organization}/locations/{location}/cloudControlDeployments/cc-deployment-1"
  },
  cloud_control_deployment_reference: {
  cloud_control_deployment:
  "organizations/{organization}/locations/{location}/cloudControlDeployments/cc-deployment-2"
  }
  Structure is [documented below](#nested_cloud_control_deployment_references).

* `computed_target_resource` -
  The resource on which the Framework is deployed based on the provided
  TargetResourceConfig in the following format:
  organizations/{organization}, folders/{folder} or projects/{project}

* `create_time` -
  The time at which the resource was created.

* `deployment_state` -
  The deployment state of the framework.
  Possible values:
  DEPLOYMENT_STATE_VALIDATING
  DEPLOYMENT_STATE_CREATING
  DEPLOYMENT_STATE_DELETING
  DEPLOYMENT_STATE_FAILED
  DEPLOYMENT_STATE_READY
  DEPLOYMENT_STATE_PARTIALLY_DEPLOYED
  DEPLOYMENT_STATE_PARTIALLY_DELETED

* `etag` -
  To prevent concurrent updates from overwriting each other, always provide
  the `etag` when you update a FrameworkDeployment. You can also
  provide the `etag` when you delete a FrameworkDeployment, to help
  ensure that you're deleting the intended version of the
  FrameworkDeployment.

* `name` -
  Identifier. FrameworkDeployment name in the following format:
  organizations/{organization}/locations/{location}/frameworkDeployments/{framework_deployment_id}

* `target_resource_display_name` -
  The display name of the target resource.

* `update_time` -
  The time at which the resource last updated.


<a name="nested_cloud_control_deployment_references"></a>The `cloud_control_deployment_references` block contains:

* `cloud_control_deployment` -
  (Output)
  The name of the CloudControlDeployment. The format is:
  organizations/{org}/locations/{location}/cloudControlDeployments/{cloud_control_deployment_id}

## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


FrameworkDeployment can be imported using any of these accepted formats:

* `organizations/{{organization}}/locations/{{location}}/frameworkDeployments/{{framework_deployment_id}}`
* `{{organization}}/{{location}}/{{framework_deployment_id}}`

In Terraform v1.12.0 and later, use an [`identity` block](https://developer.hashicorp.com/terraform/language/resources/identities) to import FrameworkDeployment using identity values. For example:

```tf
import {
  identity = {
    organization = "<-required value->"
    location = "<-required value->"
    frameworkDeploymentId = "<-required value->"
  }
  to = google_cloud_security_compliance_framework_deployment.default
}
```

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import FrameworkDeployment using one of the formats above. For example:

```tf
import {
  id = "organizations/{{organization}}/locations/{{location}}/frameworkDeployments/{{framework_deployment_id}}"
  to = google_cloud_security_compliance_framework_deployment.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), FrameworkDeployment can be imported using one of the formats above. For example:

```
$ terraform import google_cloud_security_compliance_framework_deployment.default organizations/{{organization}}/locations/{{location}}/frameworkDeployments/{{framework_deployment_id}}
$ terraform import google_cloud_security_compliance_framework_deployment.default {{organization}}/{{location}}/{{framework_deployment_id}}
```
