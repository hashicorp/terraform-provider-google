---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This file is automatically generated by Magic Modules and manual
#     changes will be clobbered when the file is regenerated.
#
#     Please read more about how to change this file in
#     .github/CONTRIBUTING.md.
#
# ----------------------------------------------------------------------------
subcategory: "Compute Engine"
page_title: "Google: google_compute_image"
description: |-
  Represents an Image resource.
---

# google\_compute\_image

Represents an Image resource.

Google Compute Engine uses operating system images to create the root
persistent disks for your instances. You specify an image when you create
an instance. Images contain a boot loader, an operating system, and a
root file system. Linux operating system images are also capable of
running containers on Compute Engine.

Images can be either public or custom.

Public images are provided and maintained by Google, open-source
communities, and third-party vendors. By default, all projects have
access to these images and can use them to create instances.  Custom
images are available only to your project. You can create a custom image
from root persistent disks and other images. Then, use the custom image
to create an instance.


To get more information about Image, see:

* [API documentation](https://cloud.google.com/compute/docs/reference/v1/images)
* How-to Guides
    * [Official Documentation](https://cloud.google.com/compute/docs/images)

<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=image_basic&cloudshell_image=gcr.io%2Fgraphite-cloud-shell-images%2Fterraform%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Image Basic


```hcl
resource "google_compute_image" "example" {
  name = "example-image"

  raw_disk {
    source = "https://storage.googleapis.com/bosh-gce-raw-stemcells/bosh-stemcell-97.98-google-kvm-ubuntu-xenial-go_agent-raw-1557960142.tar.gz"
  }
}
```
<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_working_dir=image_guest_os&cloudshell_image=gcr.io%2Fgraphite-cloud-shell-images%2Fterraform%3Alatest&open_in_editor=main.tf&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Image Guest Os


```hcl
resource "google_compute_image" "example" {
  name = "example-image"

  raw_disk {
    source = "https://storage.googleapis.com/bosh-gce-raw-stemcells/bosh-stemcell-97.98-google-kvm-ubuntu-xenial-go_agent-raw-1557960142.tar.gz"
  }

  guest_os_features {
    type = "SECURE_BOOT"
  }

  guest_os_features {
    type = "MULTI_IP_SUBNET"
  }
}
```

## Argument Reference

The following arguments are supported:


* `name` -
  (Required)
  Name of the resource; provided by the client when the resource is
  created. The name must be 1-63 characters long, and comply with
  RFC1035. Specifically, the name must be 1-63 characters long and
  match the regular expression `[a-z]([-a-z0-9]*[a-z0-9])?` which means
  the first character must be a lowercase letter, and all following
  characters must be a dash, lowercase letter, or digit, except the
  last character, which cannot be a dash.


- - -


* `description` -
  (Optional)
  An optional description of this resource. Provide this property when
  you create the resource.

* `disk_size_gb` -
  (Optional)
  Size of the image when restored onto a persistent disk (in GB).

* `family` -
  (Optional)
  The name of the image family to which this image belongs. You can
  create disks by specifying an image family instead of a specific
  image name. The image family always returns its latest image that is
  not deprecated. The name of the image family must comply with
  RFC1035.

* `guest_os_features` -
  (Optional)
  A list of features to enable on the guest operating system.
  Applicable only for bootable images.
  Structure is [documented below](#nested_guest_os_features).

* `image_encryption_key` -
  (Optional)
  Encrypts the image using a customer-supplied encryption key.
  After you encrypt an image with a customer-supplied key, you must
  provide the same key if you use the image later (e.g. to create a
  disk from the image)
  Structure is [documented below](#nested_image_encryption_key).

* `labels` -
  (Optional)
  Labels to apply to this Image.

* `licenses` -
  (Optional)
  Any applicable license URI.

* `raw_disk` -
  (Optional)
  The parameters of the raw disk image.
  Structure is [documented below](#nested_raw_disk).

* `source_disk` -
  (Optional)
  The source disk to create this image based on.
  You must provide either this property or the
  rawDisk.source property but not both to create an image.

* `source_image` -
  (Optional)
  URL of the source image used to create this image. In order to create an image, you must provide the full or partial
  URL of one of the following:
  * The selfLink URL
  * This property
  * The rawDisk.source URL
  * The sourceDisk URL

* `source_snapshot` -
  (Optional)
  URL of the source snapshot used to create this image.
  In order to create an image, you must provide the full or partial URL of one of the following:
  * The selfLink URL
  * This property
  * The sourceImage URL
  * The rawDisk.source URL
  * The sourceDisk URL

* `project` - (Optional) The ID of the project in which the resource belongs.
    If it is not provided, the provider project is used.


<a name="nested_guest_os_features"></a>The `guest_os_features` block supports:

* `type` -
  (Required)
  The type of supported feature. Read [Enabling guest operating system features](https://cloud.google.com/compute/docs/images/create-delete-deprecate-private-images#guest-os-features) to see a list of available options.
  Possible values are `MULTI_IP_SUBNET`, `SECURE_BOOT`, `SEV_CAPABLE`, `UEFI_COMPATIBLE`, `VIRTIO_SCSI_MULTIQUEUE`, `WINDOWS`, and `GVNIC`.

<a name="nested_image_encryption_key"></a>The `image_encryption_key` block supports:

* `kms_key_self_link` -
  (Optional)
  The self link of the encryption key that is stored in Google Cloud
  KMS.

* `kms_key_service_account` -
  (Optional)
  The service account being used for the encryption request for the
  given KMS key. If absent, the Compute Engine default service
  account is used.

<a name="nested_raw_disk"></a>The `raw_disk` block supports:

* `container_type` -
  (Optional)
  The format used to encode and transmit the block device, which
  should be TAR. This is just a container and transmission format
  and not a runtime format. Provided by the client when the disk
  image is created.
  Default value is `TAR`.
  Possible values are `TAR`.

* `sha1` -
  (Optional)
  An optional SHA1 checksum of the disk image before unpackaging.
  This is provided by the client when the disk image is created.

* `source` -
  (Required)
  The full Google Cloud Storage URL where disk storage is stored
  You must provide either this property or the sourceDisk property
  but not both.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `projects/{{project}}/global/images/{{name}}`

* `archive_size_bytes` -
  Size of the image tar.gz archive stored in Google Cloud Storage (in
  bytes).

* `creation_timestamp` -
  Creation timestamp in RFC3339 text format.

* `label_fingerprint` -
  The fingerprint used for optimistic locking of this resource. Used
  internally during updates.
* `self_link` - The URI of the created resource.


## Timeouts

This resource provides the following
[Timeouts](/docs/configuration/resources.html#timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


Image can be imported using any of these accepted formats:

```
$ terraform import google_compute_image.default projects/{{project}}/global/images/{{name}}
$ terraform import google_compute_image.default {{project}}/{{name}}
$ terraform import google_compute_image.default {{name}}
```

## User Project Overrides

This resource supports [User Project Overrides](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference#user_project_override).
