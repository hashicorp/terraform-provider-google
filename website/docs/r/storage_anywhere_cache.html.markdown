---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/storage/AnywhereCache.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Cloud Storage"
description: |-
  The Google Cloud Storage (GCS) Anywhere Cache feature allows users to
  create SSD backed zonal read cache for their buckets.
---

# google_storage_anywhere_cache

The Google Cloud Storage (GCS) Anywhere Cache feature allows users to
create SSD backed zonal read cache for their buckets. These zonal
caches are co-located with the customers compute engines to provide
cost efficiency.



<div class = "oics-button" style="float: right; margin: 0 0 -15px">
  <a href="https://console.cloud.google.com/cloudshell/open?cloudshell_git_repo=https%3A%2F%2Fgithub.com%2Fterraform-google-modules%2Fdocs-examples.git&cloudshell_image=gcr.io%2Fcloudshell-images%2Fcloudshell%3Alatest&cloudshell_print=.%2Fmotd&cloudshell_tutorial=.%2Ftutorial.md&cloudshell_working_dir=storage_anywhere_cache_basic&open_in_editor=main.tf" target="_blank">
    <img alt="Open in Cloud Shell" src="//gstatic.com/cloudssh/images/open-btn.svg" style="max-height: 44px; margin: 32px auto; max-width: 100%;">
  </a>
</div>
## Example Usage - Storage Anywhere Cache Basic


```hcl
resource "google_storage_bucket" "bucket" {
  name                        = "bucket-name"
  location                    = "US"
}

resource "time_sleep" "destroy_wait_5000_seconds" {
  depends_on = [google_storage_bucket.bucket]
  destroy_duration = "5000s"
}

resource "google_storage_anywhere_cache" "cache" {
  bucket = google_storage_bucket.bucket.name
  zone = "us-central1-f"
  ttl = "3601s"
  depends_on = [time_sleep.destroy_wait_5000_seconds]
}
```

## Argument Reference

The following arguments are supported:


* `zone` -
  (Required)
  The zone in which the cache instance needs to be created. For example, `us-central1-a.`

* `bucket` -
  (Required)
  A reference to Bucket resource


* `admission_policy` -
  (Optional)
  The cache admission policy dictates whether a block should be inserted upon a cache miss.
  Default value is `admit-on-first-miss`.
  Possible values are: `admit-on-first-miss`, `admit-on-second-miss`.

* `ttl` -
  (Optional)
  The TTL of all cache entries in whole seconds. e.g., "7200s". It defaults to `86400s`



## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `{{bucket}}/{{anywhere_cache_id}}`

* `anywhere_cache_id` -
  The ID of the Anywhere cache instance.

* `create_time` -
  The creation time of the cache instance in RFC 3339 format.

* `update_time` -
  The modification time of the cache instance metadata in RFC 3339 format.

* `pending_update` -
  True if the cache instance has an active Update long-running operation.

* `state` -
  The current state of the cache instance.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 240 minutes.
- `update` - Default is 240 minutes.
- `delete` - Default is 20 minutes.

## Import


AnywhereCache can be imported using any of these accepted formats:

* `b/{{bucket}}/anywhereCaches/{{anywhere_cache_id}}`
* `{{bucket}}/{{anywhere_cache_id}}`

In Terraform v1.12.0 and later, use an [`identity` block](https://developer.hashicorp.com/terraform/language/resources/identities) to import AnywhereCache using identity values. For example:

```tf
import {
  identity = {
    anywhereCacheId = "<-optional value->"
    bucket = "<-required value->"
  }
  to = google_storage_anywhere_cache.default
}
```

In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import AnywhereCache using one of the formats above. For example:

```tf
import {
  id = "b/{{bucket}}/anywhereCaches/{{anywhere_cache_id}}"
  to = google_storage_anywhere_cache.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), AnywhereCache can be imported using one of the formats above. For example:

```
$ terraform import google_storage_anywhere_cache.default b/{{bucket}}/anywhereCaches/{{anywhere_cache_id}}
$ terraform import google_storage_anywhere_cache.default {{bucket}}/{{anywhere_cache_id}}
```
