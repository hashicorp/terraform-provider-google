---
# ----------------------------------------------------------------------------
#
#     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
#
# ----------------------------------------------------------------------------
#
#     This code is generated by Magic Modules using the following:
#
#     Configuration: https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/apigee/SecurityFeedback.yaml
#     Template:      https:#github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.html.markdown.tmpl
#
#     DO NOT EDIT this file directly. Any changes made to this file will be
#     overwritten during the next generation cycle.
#
# ----------------------------------------------------------------------------
subcategory: "Apigee"
description: |-
  Represents a feedback report from an Advanced API Security customer.
---

# google_apigee_security_feedback

Represents a feedback report from an Advanced API Security customer.
Manages customer feedback about ML models.


To get more information about SecurityFeedback, see:

* [API documentation](https://cloud.google.com/apigee/docs/reference/apis/apigee/rest/v1/organizations.securityFeedback/create)
* How-to Guides
    * [Create a SecurityFeedback](https://docs.cloud.google.com/apigee/docs/api-security/abuse-detection#exclude-traffic-from-abuse-detection)

## Example Usage - Apigee Security Feedback Basic


```hcl
data "google_client_config" "current" {}

resource "google_compute_network" "apigee_network" {
  name = "apigee-network"
}

resource "google_compute_global_address" "apigee_range" {
  name          = "apigee-range"
  purpose       = "VPC_PEERING"
  address_type  = "INTERNAL"
  prefix_length = 16
  network       = google_compute_network.apigee_network.id
}

resource "google_service_networking_connection" "apigee_vpc_connection" {
  network                 = google_compute_network.apigee_network.id
  service                 = "servicenetworking.googleapis.com"
  reserved_peering_ranges = [google_compute_global_address.apigee_range.name]
}

resource "google_apigee_organization" "apigee_org" {
  analytics_region   = "us-central1"
  project_id         = data.google_client_config.current.project
  authorized_network = google_compute_network.apigee_network.id
  depends_on         = [google_service_networking_connection.apigee_vpc_connection]
}

resource "google_apigee_addons_config" "apigee_org_security_addons_config" {
  org = google_apigee_organization.apigee_org.name
  addons_config {
    api_security_config {
      enabled = true
    }
  }
}

resource "google_apigee_security_feedback" "security_feedback" {
  feedback_id  = "my-feedback"
  org_id      = google_apigee_organization.apigee_org.id
  display_name = "terraform test display name"
  feedback_type = "EXCLUDED_DETECTION"
  reason = "INTERNAL_SYSTEM"
  comment = "terraform test comment"
  feedback_contexts {
    attribute = "ATTRIBUTE_ENVIRONMENTS"
    values = [google_apigee_environment.apigee_environment.name]
  }
  feedback_contexts {
    attribute = "ATTRIBUTE_IP_ADDRESS_RANGES"
    values = ["10.0.0.0", "172.16.0.0/12"]
  }
  depends_on = [
    google_apigee_addons_config.apigee_org_security_addons_config
  ]
}
```

## Argument Reference

The following arguments are supported:


* `feedback_contexts` -
  (Required)
  One or more attribute/value pairs for constraining the feedback.
  Structure is [documented below](#nested_feedback_contexts).

* `feedback_type` -
  (Required)
  The type of feedback being submitted.
  Possible values are: `EXCLUDED_DETECTION`.

* `org_id` -
  (Required)
  The Apigee Organization associated with the Apigee Security Feedback,
  in the format `organizations/{{org_name}}`.

* `feedback_id` -
  (Required)
  Resource ID of the security feedback.


* `display_name` -
  (Optional)
  The display name of the feedback.

* `reason` -
  (Optional)
  The reason for the feedback.
  Possible values are: `INTERNAL_SYSTEM`, `NON_RISK_CLIENT`, `NAT`, `PENETRATION_TEST`, `OTHER`.

* `comment` -
  (Optional)
  Optional text the user can provide for additional, unstructured context.

* `deletion_policy` - (Optional) Whether Terraform will be prevented from destroying the resource. Defaults to DELETE.
	When a 'terraform destroy' or 'terraform apply' would delete the resource,
	the command will fail if this field is set to "PREVENT" in Terraform state.
	When set to "ABANDON", the command will remove the resource from Terraform
	management without updating or deleting the resource in the API.
	When set to "DELETE", deleting the resource is allowed.


<a name="nested_feedback_contexts"></a>The `feedback_contexts` block supports:

* `attribute` -
  (Required)
  The attribute the user is providing feedback about.
  Possible values are: `ATTRIBUTE_ENVIRONMENTS`, `ATTRIBUTE_IP_ADDRESS_RANGES`.

* `values` -
  (Required)
  The values of the attribute the user is providing feedback about, separated by commas.

## Attributes Reference

In addition to the arguments listed above, the following computed attributes are exported:

* `id` - an identifier for the resource with format `{{org_id}}/securityFeedback/{{feedback_id}}`

* `name` -
  Name of the security feedback resource,
  in the format `organizations/{{org_name}}/securityFeedback/{{feedback_id}}`.

* `create_time` -
  The time when this specific feedback id was created.

* `update_time` -
  The time when this specific feedback id was updated.


## Timeouts

This resource provides the following
[Timeouts](https://developer.hashicorp.com/terraform/plugin/sdkv2/resources/retries-and-customizable-timeouts) configuration options:

- `create` - Default is 20 minutes.
- `update` - Default is 20 minutes.
- `delete` - Default is 20 minutes.

## Import


SecurityFeedback can be imported using any of these accepted formats:

* `{{org_id}}/securityFeedback/{{feedback_id}}`
* `{{org_id}}/{{feedback_id}}`


In Terraform v1.5.0 and later, use an [`import` block](https://developer.hashicorp.com/terraform/language/import) to import SecurityFeedback using one of the formats above. For example:

```tf
import {
  id = "{{org_id}}/securityFeedback/{{feedback_id}}"
  to = google_apigee_security_feedback.default
}
```

When using the [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import), SecurityFeedback can be imported using one of the formats above. For example:

```
$ terraform import google_apigee_security_feedback.default {{org_id}}/securityFeedback/{{feedback_id}}
$ terraform import google_apigee_security_feedback.default {{org_id}}/{{feedback_id}}
```
