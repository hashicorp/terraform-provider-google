// Copyright (c) HashiCorp, Inc.
// SPDX-License-Identifier: MPL-2.0

// ----------------------------------------------------------------------------
//
//     ***     AUTO GENERATED CODE    ***    Type: MMv1     ***
//
// ----------------------------------------------------------------------------
//
//     This code is generated by Magic Modules using the following:
//
//     Configuration: https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/products/ces/Example.yaml
//     Template:      https://github.com/GoogleCloudPlatform/magic-modules/tree/main/mmv1/templates/terraform/resource.go.tmpl
//
//     DO NOT EDIT this file directly. Any changes made to this file will be
//     overwritten during the next generation cycle.
//
// ----------------------------------------------------------------------------

package ces

import (
	"bytes"
	"context"
	"encoding/base64"
	"encoding/json"
	"fmt"
	"log"
	"net/http"
	"reflect"
	"regexp"
	"slices"
	"sort"
	"strconv"
	"strings"
	"time"

	"github.com/hashicorp/errwrap"
	"github.com/hashicorp/go-cty/cty"
	"github.com/hashicorp/terraform-plugin-sdk/v2/diag"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/customdiff"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/id"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/logging"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/retry"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/structure"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/validation"
	"github.com/hashicorp/terraform-plugin-sdk/v2/terraform"

	"github.com/hashicorp/terraform-provider-google/google/tpgresource"
	transport_tpg "github.com/hashicorp/terraform-provider-google/google/transport"
	"github.com/hashicorp/terraform-provider-google/google/verify"

	"google.golang.org/api/googleapi"
)

var (
	_ = bytes.Clone
	_ = context.WithCancel
	_ = base64.NewDecoder
	_ = json.Marshal
	_ = fmt.Sprintf
	_ = log.Print
	_ = http.Get
	_ = reflect.ValueOf
	_ = regexp.Match
	_ = slices.Min([]int{1})
	_ = sort.IntSlice{}
	_ = strconv.Atoi
	_ = strings.Trim
	_ = time.Now
	_ = errwrap.Wrap
	_ = cty.BoolVal
	_ = diag.Diagnostic{}
	_ = customdiff.All
	_ = id.UniqueId
	_ = logging.LogLevel
	_ = retry.Retry
	_ = schema.Noop
	_ = validation.All
	_ = structure.ExpandJsonFromString
	_ = terraform.State{}
	_ = tpgresource.SetLabels
	_ = transport_tpg.Config{}
	_ = verify.ValidateEnum
	_ = googleapi.Error{}
)

func ResourceCESExample() *schema.Resource {
	return &schema.Resource{
		Create: resourceCESExampleCreate,
		Read:   resourceCESExampleRead,
		Update: resourceCESExampleUpdate,
		Delete: resourceCESExampleDelete,

		Importer: &schema.ResourceImporter{
			State: resourceCESExampleImport,
		},

		Timeouts: &schema.ResourceTimeout{
			Create: schema.DefaultTimeout(20 * time.Minute),
			Update: schema.DefaultTimeout(20 * time.Minute),
			Delete: schema.DefaultTimeout(20 * time.Minute),
		},

		CustomizeDiff: customdiff.All(
			tpgresource.DefaultProviderProject,
		),

		Identity: &schema.ResourceIdentity{
			Version: 1,
			SchemaFunc: func() map[string]*schema.Schema {
				return map[string]*schema.Schema{
					"name": {
						Type:              schema.TypeString,
						RequiredForImport: true,
					},
					"location": {
						Type:              schema.TypeString,
						RequiredForImport: true,
					},
					"app": {
						Type:              schema.TypeString,
						RequiredForImport: true,
					},
					"project": {
						Type:              schema.TypeString,
						OptionalForImport: true,
					},
				}
			},
		},
		Schema: map[string]*schema.Schema{
			"app": {
				Type:        schema.TypeString,
				Required:    true,
				ForceNew:    true,
				Description: `Resource ID segment making up resource 'name', defining the app the example belongs to. It identifies the resource within its parent collection as described in https://google.aip.dev/122.`,
			},
			"display_name": {
				Type:        schema.TypeString,
				Required:    true,
				Description: `Display name of the example.`,
			},
			"example_id": {
				Type:     schema.TypeString,
				Required: true,
				ForceNew: true,
				Description: `The ID to use for the example, which will become the final component of
the example's resource name. In Terraform, this field is required.`,
			},
			"location": {
				Type:        schema.TypeString,
				Required:    true,
				ForceNew:    true,
				Description: `Resource ID segment making up resource 'name', defining what region the parent app is in. It identifies the resource within its parent collection as described in https://google.aip.dev/122.`,
			},
			"description": {
				Type:        schema.TypeString,
				Optional:    true,
				Description: `Human-readable description of the example.`,
			},
			"entry_agent": {
				Type:     schema.TypeString,
				Optional: true,
				Description: `The agent that initially handles the conversation. If not specified, the
example represents a conversation that is handled by the root agent.
Format: 'projects/{project}/locations/{location}/apps/{app}/agents/{agent}'`,
			},
			"messages": {
				Type:        schema.TypeList,
				Optional:    true,
				Description: `The collection of messages that make up the conversation.`,
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{
						"chunks": {
							Type:        schema.TypeList,
							Optional:    true,
							Description: `Content of the message as a series of chunks.`,
							Elem: &schema.Resource{
								Schema: map[string]*schema.Schema{
									"agent_transfer": {
										Type:     schema.TypeList,
										Optional: true,
										Description: `Represents an event indicating the transfer of a conversation to a different
agent.`,
										MaxItems: 1,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{
												"target_agent": {
													Type:     schema.TypeString,
													Required: true,
													Description: `The agent to which the conversation is being transferred. The agent will
handle the conversation from this point forward.
Format: 'projects/{project}/locations/{location}/apps/{app}/agents/{agent}'`,
												},
												"display_name": {
													Type:        schema.TypeString,
													Computed:    true,
													Description: `Display name of the agent.`,
												},
											},
										},
									},
									"image": {
										Type:        schema.TypeList,
										Optional:    true,
										Description: `Represents an image input or output in the conversation.`,
										MaxItems:    1,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{
												"data": {
													Type:        schema.TypeString,
													Required:    true,
													Description: `Raw bytes of the image.`,
												},
												"mime_type": {
													Type:     schema.TypeString,
													Required: true,
													Description: `The IANA standard MIME type of the source data.
Supported image types includes:
* image/png
* image/jpeg
* image/webp`,
												},
											},
										},
									},
									"text": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: `Text data.`,
									},
									"tool_call": {
										Type:        schema.TypeList,
										Optional:    true,
										Description: `Request for the client or the agent to execute the specified tool.`,
										MaxItems:    1,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{
												"args": {
													Type:         schema.TypeString,
													Optional:     true,
													ValidateFunc: validation.StringIsJSON,
													Description:  `The input parameters and values for the tool in JSON object format.`,
												},
												"id": {
													Type:     schema.TypeString,
													Optional: true,
													Description: `The unique identifier of the tool call. If populated, the client should
return the execution result with the matching ID in
ToolResponse.`,
												},
												"tool": {
													Type:     schema.TypeString,
													Optional: true,
													Description: `The name of the tool to execute.
Format: 'projects/{project}/locations/{location}/apps/{app}/tools/{tool}'`,
												},
												"toolset_tool": {
													Type:        schema.TypeList,
													Optional:    true,
													Description: `A tool that is created from a toolset.`,
													MaxItems:    1,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{
															"toolset": {
																Type:     schema.TypeString,
																Required: true,
																Description: `The resource name of the Toolset from which this tool is derived.
Format:
'projects/{project}/locations/{location}/apps/{app}/toolsets/{toolset}'`,
															},
															"tool_id": {
																Type:        schema.TypeString,
																Optional:    true,
																Description: `The tool ID to filter the tools to retrieve the schema for.`,
															},
														},
													},
												},
												"display_name": {
													Type:        schema.TypeString,
													Computed:    true,
													Description: `Display name of the tool.`,
												},
											},
										},
									},
									"tool_response": {
										Type:        schema.TypeList,
										Optional:    true,
										Description: `The execution result of a specific tool from the client or the agent.`,
										MaxItems:    1,
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{
												"response": {
													Type:         schema.TypeString,
													Required:     true,
													ValidateFunc: validation.StringIsJSON,
													Description: `The tool execution result in JSON object format.
Use "output" key to specify tool response and "error" key to specify
error details (if any). If "output" and "error" keys are not specified,
then whole "response" is treated as tool execution result.`,
												},
												"id": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: `The matching ID of the tool call the response is for.`,
												},
												"tool": {
													Type:     schema.TypeString,
													Optional: true,
													Description: `The name of the tool to execute.
Format: 'projects/{project}/locations/{location}/apps/{app}/tools/{tool}'`,
												},
												"toolset_tool": {
													Type:        schema.TypeList,
													Optional:    true,
													Description: `A tool that is created from a toolset.`,
													MaxItems:    1,
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{
															"toolset": {
																Type:     schema.TypeString,
																Required: true,
																Description: `The resource name of the Toolset from which this tool is derived.
Format:
'projects/{project}/locations/{location}/apps/{app}/toolsets/{toolset}'`,
															},
															"tool_id": {
																Type:        schema.TypeString,
																Optional:    true,
																Description: `The tool ID to filter the tools to retrieve the schema for.`,
															},
														},
													},
												},
												"display_name": {
													Type:        schema.TypeString,
													Computed:    true,
													Description: `Display name of the tool.`,
												},
											},
										},
									},
									"updated_variables": {
										Type:         schema.TypeString,
										Optional:     true,
										ValidateFunc: validation.StringIsJSON,
										Description: `A struct represents variables that were updated in the conversation,
keyed by variable names.`,
									},
								},
							},
						},
						"role": {
							Type:        schema.TypeString,
							Optional:    true,
							Description: `The role within the conversation, e.g., user, agent.`,
						},
					},
				},
			},
			"create_time": {
				Type:        schema.TypeString,
				Computed:    true,
				Description: `Timestamp when the example was created.`,
			},
			"etag": {
				Type:     schema.TypeString,
				Computed: true,
				Description: `Etag used to ensure the object hasn't changed during a read-modify-write
operation. If the etag is empty, the update will overwrite any concurrent
changes.`,
			},
			"invalid": {
				Type:     schema.TypeBool,
				Computed: true,
				Description: `The example may become invalid if referencing resources are deleted.
Invalid examples will not be used as few-shot examples.`,
			},
			"name": {
				Type:     schema.TypeString,
				Computed: true,
				Description: `Identifier. The unique identifier of the example.
Format:
'projects/{project}/locations/{location}/apps/{app}/examples/{example}'`,
			},
			"update_time": {
				Type:        schema.TypeString,
				Computed:    true,
				Description: `Timestamp when the example was last updated.`,
			},
			"project": {
				Type:     schema.TypeString,
				Optional: true,
				Computed: true,
				ForceNew: true,
			},
		},
		UseJSONNumber: true,
	}
}

func resourceCESExampleCreate(d *schema.ResourceData, meta interface{}) error {
	config := meta.(*transport_tpg.Config)
	userAgent, err := tpgresource.GenerateUserAgentString(d, config.UserAgent)
	if err != nil {
		return err
	}

	obj := make(map[string]interface{})
	descriptionProp, err := expandCESExampleDescription(d.Get("description"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("description"); !tpgresource.IsEmptyValue(reflect.ValueOf(descriptionProp)) && (ok || !reflect.DeepEqual(v, descriptionProp)) {
		obj["description"] = descriptionProp
	}
	displayNameProp, err := expandCESExampleDisplayName(d.Get("display_name"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("display_name"); !tpgresource.IsEmptyValue(reflect.ValueOf(displayNameProp)) && (ok || !reflect.DeepEqual(v, displayNameProp)) {
		obj["displayName"] = displayNameProp
	}
	entryAgentProp, err := expandCESExampleEntryAgent(d.Get("entry_agent"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("entry_agent"); !tpgresource.IsEmptyValue(reflect.ValueOf(entryAgentProp)) && (ok || !reflect.DeepEqual(v, entryAgentProp)) {
		obj["entryAgent"] = entryAgentProp
	}
	etagProp, err := expandCESExampleEtag(d.Get("etag"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("etag"); !tpgresource.IsEmptyValue(reflect.ValueOf(etagProp)) && (ok || !reflect.DeepEqual(v, etagProp)) {
		obj["etag"] = etagProp
	}
	messagesProp, err := expandCESExampleMessages(d.Get("messages"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("messages"); !tpgresource.IsEmptyValue(reflect.ValueOf(messagesProp)) && (ok || !reflect.DeepEqual(v, messagesProp)) {
		obj["messages"] = messagesProp
	}

	url, err := tpgresource.ReplaceVars(d, config, "{{CESBasePath}}projects/{{project}}/locations/{{location}}/apps/{{app}}/examples?exampleId={{example_id}}")
	if err != nil {
		return err
	}

	log.Printf("[DEBUG] Creating new Example: %#v", obj)
	billingProject := ""

	project, err := tpgresource.GetProject(d, config)
	if err != nil {
		return fmt.Errorf("Error fetching project for Example: %s", err)
	}
	billingProject = project

	// err == nil indicates that the billing_project value was found
	if bp, err := tpgresource.GetBillingProject(d, config); err == nil {
		billingProject = bp
	}

	headers := make(http.Header)
	res, err := transport_tpg.SendRequest(transport_tpg.SendRequestOptions{
		Config:    config,
		Method:    "POST",
		Project:   billingProject,
		RawURL:    url,
		UserAgent: userAgent,
		Body:      obj,
		Timeout:   d.Timeout(schema.TimeoutCreate),
		Headers:   headers,
	})
	if err != nil {
		return fmt.Errorf("Error creating Example: %s", err)
	}
	// Set computed resource properties from create API response so that they're available on the subsequent Read
	// call.
	err = resourceCESExamplePostCreateSetComputedFields(d, meta, res)
	if err != nil {
		return fmt.Errorf("setting computed ID format fields: %w", err)
	}

	// Store the ID now
	id, err := tpgresource.ReplaceVars(d, config, "projects/{{project}}/locations/{{location}}/apps/{{app}}/examples/{{name}}")
	if err != nil {
		return fmt.Errorf("Error constructing id: %s", err)
	}
	d.SetId(id)

	log.Printf("[DEBUG] Finished creating Example %q: %#v", d.Id(), res)

	return resourceCESExampleRead(d, meta)
}

func resourceCESExampleRead(d *schema.ResourceData, meta interface{}) error {
	config := meta.(*transport_tpg.Config)
	userAgent, err := tpgresource.GenerateUserAgentString(d, config.UserAgent)
	if err != nil {
		return err
	}

	url, err := tpgresource.ReplaceVars(d, config, "{{CESBasePath}}projects/{{project}}/locations/{{location}}/apps/{{app}}/examples/{{name}}")
	if err != nil {
		return err
	}

	billingProject := ""

	project, err := tpgresource.GetProject(d, config)
	if err != nil {
		return fmt.Errorf("Error fetching project for Example: %s", err)
	}
	billingProject = project

	// err == nil indicates that the billing_project value was found
	if bp, err := tpgresource.GetBillingProject(d, config); err == nil {
		billingProject = bp
	}

	headers := make(http.Header)
	res, err := transport_tpg.SendRequest(transport_tpg.SendRequestOptions{
		Config:    config,
		Method:    "GET",
		Project:   billingProject,
		RawURL:    url,
		UserAgent: userAgent,
		Headers:   headers,
	})
	if err != nil {
		return transport_tpg.HandleNotFoundError(err, d, fmt.Sprintf("CESExample %q", d.Id()))
	}

	if err := d.Set("project", project); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}

	if err := d.Set("create_time", flattenCESExampleCreateTime(res["createTime"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("description", flattenCESExampleDescription(res["description"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("display_name", flattenCESExampleDisplayName(res["displayName"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("entry_agent", flattenCESExampleEntryAgent(res["entryAgent"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("etag", flattenCESExampleEtag(res["etag"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("invalid", flattenCESExampleInvalid(res["invalid"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("messages", flattenCESExampleMessages(res["messages"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("name", flattenCESExampleName(res["name"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}
	if err := d.Set("update_time", flattenCESExampleUpdateTime(res["updateTime"], d, config)); err != nil {
		return fmt.Errorf("Error reading Example: %s", err)
	}

	identity, err := d.Identity()
	if err != nil && identity != nil {
		if v, ok := identity.GetOk("name"); ok && v != "" {
			err = identity.Set("name", d.Get("name").(string))
			if err != nil {
				return fmt.Errorf("Error setting name: %s", err)
			}
		}
		if v, ok := identity.GetOk("location"); ok && v != "" {
			err = identity.Set("location", d.Get("location").(string))
			if err != nil {
				return fmt.Errorf("Error setting location: %s", err)
			}
		}
		if v, ok := identity.GetOk("app"); ok && v != "" {
			err = identity.Set("app", d.Get("app").(string))
			if err != nil {
				return fmt.Errorf("Error setting app: %s", err)
			}
		}
		if v, ok := identity.GetOk("project"); ok && v != "" {
			err = identity.Set("project", d.Get("project").(string))
			if err != nil {
				return fmt.Errorf("Error setting project: %s", err)
			}
		}
	} else {
		log.Printf("[DEBUG] identity not set: %s", err)
	}
	return nil
}

func resourceCESExampleUpdate(d *schema.ResourceData, meta interface{}) error {
	config := meta.(*transport_tpg.Config)
	userAgent, err := tpgresource.GenerateUserAgentString(d, config.UserAgent)
	if err != nil {
		return err
	}

	billingProject := ""

	project, err := tpgresource.GetProject(d, config)
	if err != nil {
		return fmt.Errorf("Error fetching project for Example: %s", err)
	}
	billingProject = project

	obj := make(map[string]interface{})
	descriptionProp, err := expandCESExampleDescription(d.Get("description"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("description"); !tpgresource.IsEmptyValue(reflect.ValueOf(v)) && (ok || !reflect.DeepEqual(v, descriptionProp)) {
		obj["description"] = descriptionProp
	}
	displayNameProp, err := expandCESExampleDisplayName(d.Get("display_name"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("display_name"); !tpgresource.IsEmptyValue(reflect.ValueOf(v)) && (ok || !reflect.DeepEqual(v, displayNameProp)) {
		obj["displayName"] = displayNameProp
	}
	entryAgentProp, err := expandCESExampleEntryAgent(d.Get("entry_agent"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("entry_agent"); !tpgresource.IsEmptyValue(reflect.ValueOf(v)) && (ok || !reflect.DeepEqual(v, entryAgentProp)) {
		obj["entryAgent"] = entryAgentProp
	}
	etagProp, err := expandCESExampleEtag(d.Get("etag"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("etag"); !tpgresource.IsEmptyValue(reflect.ValueOf(v)) && (ok || !reflect.DeepEqual(v, etagProp)) {
		obj["etag"] = etagProp
	}
	messagesProp, err := expandCESExampleMessages(d.Get("messages"), d, config)
	if err != nil {
		return err
	} else if v, ok := d.GetOkExists("messages"); !tpgresource.IsEmptyValue(reflect.ValueOf(v)) && (ok || !reflect.DeepEqual(v, messagesProp)) {
		obj["messages"] = messagesProp
	}

	url, err := tpgresource.ReplaceVars(d, config, "{{CESBasePath}}projects/{{project}}/locations/{{location}}/apps/{{app}}/examples/{{name}}")
	if err != nil {
		return err
	}

	log.Printf("[DEBUG] Updating Example %q: %#v", d.Id(), obj)
	headers := make(http.Header)
	updateMask := []string{}

	if d.HasChange("description") {
		updateMask = append(updateMask, "description")
	}

	if d.HasChange("display_name") {
		updateMask = append(updateMask, "displayName")
	}

	if d.HasChange("entry_agent") {
		updateMask = append(updateMask, "entryAgent")
	}

	if d.HasChange("etag") {
		updateMask = append(updateMask, "etag")
	}

	if d.HasChange("messages") {
		updateMask = append(updateMask, "messages")
	}
	// updateMask is a URL parameter but not present in the schema, so ReplaceVars
	// won't set it
	url, err = transport_tpg.AddQueryParams(url, map[string]string{"updateMask": strings.Join(updateMask, ",")})
	if err != nil {
		return err
	}

	// err == nil indicates that the billing_project value was found
	if bp, err := tpgresource.GetBillingProject(d, config); err == nil {
		billingProject = bp
	}

	// if updateMask is empty we are not updating anything so skip the post
	if len(updateMask) > 0 {
		res, err := transport_tpg.SendRequest(transport_tpg.SendRequestOptions{
			Config:    config,
			Method:    "PATCH",
			Project:   billingProject,
			RawURL:    url,
			UserAgent: userAgent,
			Body:      obj,
			Timeout:   d.Timeout(schema.TimeoutUpdate),
			Headers:   headers,
		})

		if err != nil {
			return fmt.Errorf("Error updating Example %q: %s", d.Id(), err)
		} else {
			log.Printf("[DEBUG] Finished updating Example %q: %#v", d.Id(), res)
		}

	}

	return resourceCESExampleRead(d, meta)
}

func resourceCESExampleDelete(d *schema.ResourceData, meta interface{}) error {
	config := meta.(*transport_tpg.Config)
	userAgent, err := tpgresource.GenerateUserAgentString(d, config.UserAgent)
	if err != nil {
		return err
	}

	billingProject := ""

	project, err := tpgresource.GetProject(d, config)
	if err != nil {
		return fmt.Errorf("Error fetching project for Example: %s", err)
	}
	billingProject = project

	url, err := tpgresource.ReplaceVars(d, config, "{{CESBasePath}}projects/{{project}}/locations/{{location}}/apps/{{app}}/examples/{{name}}")
	if err != nil {
		return err
	}

	var obj map[string]interface{}

	// err == nil indicates that the billing_project value was found
	if bp, err := tpgresource.GetBillingProject(d, config); err == nil {
		billingProject = bp
	}

	headers := make(http.Header)

	log.Printf("[DEBUG] Deleting Example %q", d.Id())
	res, err := transport_tpg.SendRequest(transport_tpg.SendRequestOptions{
		Config:    config,
		Method:    "DELETE",
		Project:   billingProject,
		RawURL:    url,
		UserAgent: userAgent,
		Body:      obj,
		Timeout:   d.Timeout(schema.TimeoutDelete),
		Headers:   headers,
	})
	if err != nil {
		return transport_tpg.HandleNotFoundError(err, d, "Example")
	}

	log.Printf("[DEBUG] Finished deleting Example %q: %#v", d.Id(), res)
	return nil
}

func resourceCESExampleImport(d *schema.ResourceData, meta interface{}) ([]*schema.ResourceData, error) {
	config := meta.(*transport_tpg.Config)
	if err := tpgresource.ParseImportId([]string{
		"^projects/(?P<project>[^/]+)/locations/(?P<location>[^/]+)/apps/(?P<app>[^/]+)/examples/(?P<name>[^/]+)$",
		"^(?P<project>[^/]+)/(?P<location>[^/]+)/(?P<app>[^/]+)/(?P<name>[^/]+)$",
		"^(?P<location>[^/]+)/(?P<app>[^/]+)/(?P<name>[^/]+)$",
	}, d, config); err != nil {
		return nil, err
	}

	// Replace import id for the resource id
	id, err := tpgresource.ReplaceVars(d, config, "projects/{{project}}/locations/{{location}}/apps/{{app}}/examples/{{name}}")
	if err != nil {
		return nil, fmt.Errorf("Error constructing id: %s", err)
	}
	d.SetId(id)

	return []*schema.ResourceData{d}, nil
}

func flattenCESExampleCreateTime(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleDescription(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleDisplayName(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleEntryAgent(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleEtag(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleInvalid(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessages(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return v
	}
	l := v.([]interface{})
	transformed := make([]interface{}, 0, len(l))
	for _, raw := range l {
		original := raw.(map[string]interface{})
		if len(original) < 1 {
			// Do not include empty json objects coming back from the api
			continue
		}
		transformed = append(transformed, map[string]interface{}{
			"chunks": flattenCESExampleMessagesChunks(original["chunks"], d, config),
			"role":   flattenCESExampleMessagesRole(original["role"], d, config),
		})
	}
	return transformed
}
func flattenCESExampleMessagesChunks(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return v
	}
	l := v.([]interface{})
	transformed := make([]interface{}, 0, len(l))
	for _, raw := range l {
		original := raw.(map[string]interface{})
		if len(original) < 1 {
			// Do not include empty json objects coming back from the api
			continue
		}
		transformed = append(transformed, map[string]interface{}{
			"agent_transfer":    flattenCESExampleMessagesChunksAgentTransfer(original["agentTransfer"], d, config),
			"image":             flattenCESExampleMessagesChunksImage(original["image"], d, config),
			"text":              flattenCESExampleMessagesChunksText(original["text"], d, config),
			"tool_call":         flattenCESExampleMessagesChunksToolCall(original["toolCall"], d, config),
			"tool_response":     flattenCESExampleMessagesChunksToolResponse(original["toolResponse"], d, config),
			"updated_variables": flattenCESExampleMessagesChunksUpdatedVariables(original["updatedVariables"], d, config),
		})
	}
	return transformed
}
func flattenCESExampleMessagesChunksAgentTransfer(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	original := v.(map[string]interface{})
	if len(original) == 0 {
		return nil
	}
	transformed := make(map[string]interface{})
	transformed["display_name"] =
		flattenCESExampleMessagesChunksAgentTransferDisplayName(original["displayName"], d, config)
	transformed["target_agent"] =
		flattenCESExampleMessagesChunksAgentTransferTargetAgent(original["targetAgent"], d, config)
	return []interface{}{transformed}
}
func flattenCESExampleMessagesChunksAgentTransferDisplayName(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksAgentTransferTargetAgent(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksImage(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	original := v.(map[string]interface{})
	if len(original) == 0 {
		return nil
	}
	transformed := make(map[string]interface{})
	transformed["data"] =
		flattenCESExampleMessagesChunksImageData(original["data"], d, config)
	transformed["mime_type"] =
		flattenCESExampleMessagesChunksImageMimeType(original["mimeType"], d, config)
	return []interface{}{transformed}
}
func flattenCESExampleMessagesChunksImageData(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksImageMimeType(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksText(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolCall(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	original := v.(map[string]interface{})
	if len(original) == 0 {
		return nil
	}
	transformed := make(map[string]interface{})
	transformed["args"] =
		flattenCESExampleMessagesChunksToolCallArgs(original["args"], d, config)
	transformed["display_name"] =
		flattenCESExampleMessagesChunksToolCallDisplayName(original["displayName"], d, config)
	transformed["id"] =
		flattenCESExampleMessagesChunksToolCallId(original["id"], d, config)
	transformed["tool"] =
		flattenCESExampleMessagesChunksToolCallTool(original["tool"], d, config)
	transformed["toolset_tool"] =
		flattenCESExampleMessagesChunksToolCallToolsetTool(original["toolsetTool"], d, config)
	return []interface{}{transformed}
}
func flattenCESExampleMessagesChunksToolCallArgs(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	b, err := json.Marshal(v)
	if err != nil {
		// TODO: return error once https://github.com/GoogleCloudPlatform/magic-modules/issues/3257 is fixed.
		log.Printf("[ERROR] failed to marshal schema to JSON: %v", err)
	}
	return string(b)
}

func flattenCESExampleMessagesChunksToolCallDisplayName(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolCallId(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolCallTool(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolCallToolsetTool(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	original := v.(map[string]interface{})
	if len(original) == 0 {
		return nil
	}
	transformed := make(map[string]interface{})
	transformed["toolset"] =
		flattenCESExampleMessagesChunksToolCallToolsetToolToolset(original["toolset"], d, config)
	transformed["tool_id"] =
		flattenCESExampleMessagesChunksToolCallToolsetToolToolId(original["toolId"], d, config)
	return []interface{}{transformed}
}
func flattenCESExampleMessagesChunksToolCallToolsetToolToolset(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolCallToolsetToolToolId(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolResponse(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	original := v.(map[string]interface{})
	if len(original) == 0 {
		return nil
	}
	transformed := make(map[string]interface{})
	transformed["display_name"] =
		flattenCESExampleMessagesChunksToolResponseDisplayName(original["displayName"], d, config)
	transformed["id"] =
		flattenCESExampleMessagesChunksToolResponseId(original["id"], d, config)
	transformed["response"] =
		flattenCESExampleMessagesChunksToolResponseResponse(original["response"], d, config)
	transformed["tool"] =
		flattenCESExampleMessagesChunksToolResponseTool(original["tool"], d, config)
	transformed["toolset_tool"] =
		flattenCESExampleMessagesChunksToolResponseToolsetTool(original["toolsetTool"], d, config)
	return []interface{}{transformed}
}
func flattenCESExampleMessagesChunksToolResponseDisplayName(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolResponseId(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolResponseResponse(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	b, err := json.Marshal(v)
	if err != nil {
		// TODO: return error once https://github.com/GoogleCloudPlatform/magic-modules/issues/3257 is fixed.
		log.Printf("[ERROR] failed to marshal schema to JSON: %v", err)
	}
	return string(b)
}

func flattenCESExampleMessagesChunksToolResponseTool(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolResponseToolsetTool(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	original := v.(map[string]interface{})
	if len(original) == 0 {
		return nil
	}
	transformed := make(map[string]interface{})
	transformed["toolset"] =
		flattenCESExampleMessagesChunksToolResponseToolsetToolToolset(original["toolset"], d, config)
	transformed["tool_id"] =
		flattenCESExampleMessagesChunksToolResponseToolsetToolToolId(original["toolId"], d, config)
	return []interface{}{transformed}
}
func flattenCESExampleMessagesChunksToolResponseToolsetToolToolset(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksToolResponseToolsetToolToolId(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleMessagesChunksUpdatedVariables(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return nil
	}
	b, err := json.Marshal(v)
	if err != nil {
		// TODO: return error once https://github.com/GoogleCloudPlatform/magic-modules/issues/3257 is fixed.
		log.Printf("[ERROR] failed to marshal schema to JSON: %v", err)
	}
	return string(b)
}

func flattenCESExampleMessagesRole(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func flattenCESExampleName(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	if v == nil {
		return v
	}
	return tpgresource.GetResourceNameFromSelfLink(v.(string))
}

func flattenCESExampleUpdateTime(v interface{}, d *schema.ResourceData, config *transport_tpg.Config) interface{} {
	return v
}

func expandCESExampleDescription(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleDisplayName(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleEntryAgent(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleEtag(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessages(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	req := make([]interface{}, 0, len(l))
	for _, raw := range l {
		if raw == nil {
			continue
		}
		original := raw.(map[string]interface{})
		transformed := make(map[string]interface{})

		transformedChunks, err := expandCESExampleMessagesChunks(original["chunks"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedChunks); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["chunks"] = transformedChunks
		}

		transformedRole, err := expandCESExampleMessagesRole(original["role"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedRole); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["role"] = transformedRole
		}

		req = append(req, transformed)
	}
	return req, nil
}

func expandCESExampleMessagesChunks(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	req := make([]interface{}, 0, len(l))
	for _, raw := range l {
		if raw == nil {
			continue
		}
		original := raw.(map[string]interface{})
		transformed := make(map[string]interface{})

		transformedAgentTransfer, err := expandCESExampleMessagesChunksAgentTransfer(original["agent_transfer"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedAgentTransfer); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["agentTransfer"] = transformedAgentTransfer
		}

		transformedImage, err := expandCESExampleMessagesChunksImage(original["image"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedImage); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["image"] = transformedImage
		}

		transformedText, err := expandCESExampleMessagesChunksText(original["text"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedText); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["text"] = transformedText
		}

		transformedToolCall, err := expandCESExampleMessagesChunksToolCall(original["tool_call"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedToolCall); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["toolCall"] = transformedToolCall
		}

		transformedToolResponse, err := expandCESExampleMessagesChunksToolResponse(original["tool_response"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedToolResponse); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["toolResponse"] = transformedToolResponse
		}

		transformedUpdatedVariables, err := expandCESExampleMessagesChunksUpdatedVariables(original["updated_variables"], d, config)
		if err != nil {
			return nil, err
		} else if val := reflect.ValueOf(transformedUpdatedVariables); val.IsValid() && !tpgresource.IsEmptyValue(val) {
			transformed["updatedVariables"] = transformedUpdatedVariables
		}

		req = append(req, transformed)
	}
	return req, nil
}

func expandCESExampleMessagesChunksAgentTransfer(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedDisplayName, err := expandCESExampleMessagesChunksAgentTransferDisplayName(original["display_name"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisplayName); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["displayName"] = transformedDisplayName
	}

	transformedTargetAgent, err := expandCESExampleMessagesChunksAgentTransferTargetAgent(original["target_agent"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedTargetAgent); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["targetAgent"] = transformedTargetAgent
	}

	return transformed, nil
}

func expandCESExampleMessagesChunksAgentTransferDisplayName(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksAgentTransferTargetAgent(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksImage(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedData, err := expandCESExampleMessagesChunksImageData(original["data"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedData); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["data"] = transformedData
	}

	transformedMimeType, err := expandCESExampleMessagesChunksImageMimeType(original["mime_type"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedMimeType); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["mimeType"] = transformedMimeType
	}

	return transformed, nil
}

func expandCESExampleMessagesChunksImageData(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksImageMimeType(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksText(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolCall(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedArgs, err := expandCESExampleMessagesChunksToolCallArgs(original["args"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedArgs); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["args"] = transformedArgs
	}

	transformedDisplayName, err := expandCESExampleMessagesChunksToolCallDisplayName(original["display_name"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisplayName); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["displayName"] = transformedDisplayName
	}

	transformedId, err := expandCESExampleMessagesChunksToolCallId(original["id"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedId); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["id"] = transformedId
	}

	transformedTool, err := expandCESExampleMessagesChunksToolCallTool(original["tool"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedTool); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["tool"] = transformedTool
	}

	transformedToolsetTool, err := expandCESExampleMessagesChunksToolCallToolsetTool(original["toolset_tool"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedToolsetTool); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["toolsetTool"] = transformedToolsetTool
	}

	return transformed, nil
}

func expandCESExampleMessagesChunksToolCallArgs(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	b := []byte(v.(string))
	if len(b) == 0 {
		return nil, nil
	}
	m := make(map[string]interface{})
	if err := json.Unmarshal(b, &m); err != nil {
		return nil, err
	}
	return m, nil
}

func expandCESExampleMessagesChunksToolCallDisplayName(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolCallId(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolCallTool(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolCallToolsetTool(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedToolset, err := expandCESExampleMessagesChunksToolCallToolsetToolToolset(original["toolset"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedToolset); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["toolset"] = transformedToolset
	}

	transformedToolId, err := expandCESExampleMessagesChunksToolCallToolsetToolToolId(original["tool_id"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedToolId); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["toolId"] = transformedToolId
	}

	return transformed, nil
}

func expandCESExampleMessagesChunksToolCallToolsetToolToolset(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolCallToolsetToolToolId(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolResponse(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedDisplayName, err := expandCESExampleMessagesChunksToolResponseDisplayName(original["display_name"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedDisplayName); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["displayName"] = transformedDisplayName
	}

	transformedId, err := expandCESExampleMessagesChunksToolResponseId(original["id"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedId); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["id"] = transformedId
	}

	transformedResponse, err := expandCESExampleMessagesChunksToolResponseResponse(original["response"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedResponse); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["response"] = transformedResponse
	}

	transformedTool, err := expandCESExampleMessagesChunksToolResponseTool(original["tool"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedTool); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["tool"] = transformedTool
	}

	transformedToolsetTool, err := expandCESExampleMessagesChunksToolResponseToolsetTool(original["toolset_tool"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedToolsetTool); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["toolsetTool"] = transformedToolsetTool
	}

	return transformed, nil
}

func expandCESExampleMessagesChunksToolResponseDisplayName(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolResponseId(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolResponseResponse(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	b := []byte(v.(string))
	if len(b) == 0 {
		return nil, nil
	}
	m := make(map[string]interface{})
	if err := json.Unmarshal(b, &m); err != nil {
		return nil, err
	}
	return m, nil
}

func expandCESExampleMessagesChunksToolResponseTool(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolResponseToolsetTool(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	if v == nil {
		return nil, nil
	}
	l := v.([]interface{})
	if len(l) == 0 || l[0] == nil {
		return nil, nil
	}
	raw := l[0]
	original := raw.(map[string]interface{})
	transformed := make(map[string]interface{})

	transformedToolset, err := expandCESExampleMessagesChunksToolResponseToolsetToolToolset(original["toolset"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedToolset); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["toolset"] = transformedToolset
	}

	transformedToolId, err := expandCESExampleMessagesChunksToolResponseToolsetToolToolId(original["tool_id"], d, config)
	if err != nil {
		return nil, err
	} else if val := reflect.ValueOf(transformedToolId); val.IsValid() && !tpgresource.IsEmptyValue(val) {
		transformed["toolId"] = transformedToolId
	}

	return transformed, nil
}

func expandCESExampleMessagesChunksToolResponseToolsetToolToolset(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksToolResponseToolsetToolToolId(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func expandCESExampleMessagesChunksUpdatedVariables(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	b := []byte(v.(string))
	if len(b) == 0 {
		return nil, nil
	}
	m := make(map[string]interface{})
	if err := json.Unmarshal(b, &m); err != nil {
		return nil, err
	}
	return m, nil
}

func expandCESExampleMessagesRole(v interface{}, d tpgresource.TerraformResourceData, config *transport_tpg.Config) (interface{}, error) {
	return v, nil
}

func resourceCESExamplePostCreateSetComputedFields(d *schema.ResourceData, meta interface{}, res map[string]interface{}) error {
	config := meta.(*transport_tpg.Config)
	if err := d.Set("name", flattenCESExampleName(res["name"], d, config)); err != nil {
		return fmt.Errorf(`Error setting computed identity field "name": %s`, err)
	}
	return nil
}
